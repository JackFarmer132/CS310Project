# contains all bot skeletons for testing at different chatbot conversation
# stages
from rasa_sdk import Action, Tracker
from rasa_sdk.executor import CollectingDispatcher
from rasa_sdk import Tracker, FormValidationAction
from rasa_sdk.types import DomainDict
from rasa_sdk.events import SlotSet

# returns objects for when bot has had noting done to it yet
def empty_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = 'aa4daa36943545a3a19af9d42c790339'
    slots = {'any_injured': None, 'district': None, 'emergency_details': None, 'emergency_details_memory': None, 'extra_details': None, 'first_aid': None, 'form_name': None, 'form_phone_number': None, 'form_postcode': None, 'form_street_address': None, 'is_safe': None, 'location_description': None, 'name': None, 'phone_number': None, 'postcode': None, 'requested_slot': None, 'service_type': None, 'service_type_memory': None, 'street_address': None, 'victim_details': None, 'victim_details_memory': None}
    latest_message = {'intent': {'id': -2799416101563173972, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '31011421a9774442b3d76beb3553887d', 'metadata': {}, 'intent_ranking': [{'id': -2799416101563173972, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -7726125769073143993, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': -8523571743662813459, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -1356878508757145795, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': 4831570359268797754, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': 4646162823499942483, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': -7052947813467228778, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': 6330063465865032021, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -4480554482848449843, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -3783405431438082723, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611078174.3719885, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611078174.3719964}, {'event': 'action', 'timestamp': 1611078174.3720124, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611078174.6101658, 'text': '___', 'parse_data': {'intent': {'id': -2799416101563173972, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '31011421a9774442b3d76beb3553887d', 'metadata': {}, 'intent_ranking': [{'id': -2799416101563173972, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -7726125769073143993, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': -8523571743662813459, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -1356878508757145795, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': 4831570359268797754, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': 4646162823499942483, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': -7052947813467228778, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': 6330063465865032021, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -4480554482848449843, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -3783405431438082723, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '31011421a9774442b3d76beb3553887d', 'metadata': {}}, {'event': 'action', 'timestamp': 1611078174.7439778, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611078174.7439818, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}]
    paused = False
    followup_action = None
    active_loop = {}
    latest_action_name = 'utter_introduce'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for service
def service_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '76cff024595a4b009ebb3cca104aec0b'
    slots = {'any_injured': None, 'district': None, 'emergency_details': None, 'emergency_details_memory': None, 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': None, 'form_street_address': None, 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': None, 'requested_slot': 'service_type', 'service_type': 'fire department', 'service_type_memory': None, 'street_address': None, 'victim_details': 'No Victim', 'victim_details_memory': None}
    latest_message = {'intent': {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 15, 'confidence_entity': 0.8445817232131958, 'value': 'fire department', 'extractor': 'DIETClassifier'}], 'text': 'fire department please', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}, 'intent_ranking': [{'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 3.368238321854733e-05}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 7.216333415271947e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 6.382460924214683e-07}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 3.155557521949959e-07}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 1.432160701142493e-07}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 3.3683168254583506e-08}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 3.1709030956506012e-09}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 2.8756358405601645e-10}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 5.3605293814928956e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611076480.0691748, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611076480.0691826}, {'event': 'action', 'timestamp': 1611076480.0691962, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611076480.2986596, 'text': '___', 'parse_data': {'intent': {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}, 'intent_ranking': [{'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076480.4313457, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611076480.4313498, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076480.815944, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076480.8159506, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076480.8159544, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076480.815956, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611076480.8159573, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611076481.3418384, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611076481.341842, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611076481.3418436, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076481.341845, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076481.3418458, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611076481.3418467, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611076481.3418477, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076481.357884, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076521.9178877, 'text': 'fire department please', 'parse_data': {'intent': {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 15, 'confidence_entity': 0.8445817232131958, 'value': 'fire department', 'extractor': 'DIETClassifier'}], 'text': 'fire department please', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}, 'intent_ranking': [{'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 3.368238321854733e-05}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 7.216333415271947e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 6.382460924214683e-07}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 3.155557521949959e-07}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 1.432160701142493e-07}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 3.3683168254583506e-08}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 3.1709030956506012e-09}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 2.8756358405601645e-10}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 5.3605293814928956e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076521.9179134, 'name': 'service_type', 'value': ['fire department']}, {'event': 'action', 'timestamp': 1611076521.9310431, 'name': 'service_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611076521.9310324, 'name': 'service_type', 'value': 'fire department'}]
    paused = False
    followup_action = None
    active_loop = {'name': 'service_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}, 'intent_ranking': [{'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'service_form'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for emergency
def emergency_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '76cff024595a4b009ebb3cca104aec0b'
    slots = {'any_injured': None, 'district': None, 'emergency_details': 'fire', 'emergency_details_memory': None, 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': None, 'form_street_address': None, 'is_safe': None, 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': None, 'requested_slot': 'emergency_details', 'service_type': ['fire department'], 'service_type_memory': ['fire department'], 'street_address': None, 'victim_details': 'No Victim', 'victim_details_memory': None}
    latest_message = {'intent': {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.9999700784683228}, 'entities': [{'entity': 'emergency_details', 'start': 10, 'end': 14, 'confidence_entity': 0.8804662823677063, 'value': 'fire', 'extractor': 'DIETClassifier'}], 'text': "there's a fire", 'message_id': '27ee6d0b17aa4dff99cc98b27c0d6ecc', 'metadata': {}, 'intent_ranking': [{'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.9999700784683228}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.6459311154903844e-05}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 7.38545213607722e-06}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 3.4888635127572343e-06}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 1.0464235629115137e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 8.832912499201484e-07}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 4.584334192259121e-07}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 1.2354452394447435e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 7.938545110164341e-08}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 1.189815090896218e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611076480.0691748, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611076480.0691826}, {'event': 'action', 'timestamp': 1611076480.0691962, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611076480.2986596, 'text': '___', 'parse_data': {'intent': {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}, 'intent_ranking': [{'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076480.4313457, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611076480.4313498, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076480.815944, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076480.8159506, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076480.8159544, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076480.815956, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611076480.8159573, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611076481.3418384, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611076481.341842, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611076481.3418436, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076481.341845, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076481.3418458, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611076481.3418467, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611076481.3418477, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076481.357884, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076521.9178877, 'text': 'fire department please', 'parse_data': {'intent': {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 15, 'confidence_entity': 0.8445817232131958, 'value': 'fire department', 'extractor': 'DIETClassifier'}], 'text': 'fire department please', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}, 'intent_ranking': [{'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 3.368238321854733e-05}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 7.216333415271947e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 6.382460924214683e-07}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 3.155557521949959e-07}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 1.432160701142493e-07}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 3.3683168254583506e-08}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 3.1709030956506012e-09}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 2.8756358405601645e-10}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 5.3605293814928956e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076521.9179134, 'name': 'service_type', 'value': ['fire department']}, {'event': 'action', 'timestamp': 1611076522.1751716, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076522.1751754, 'name': 'service_type', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076522.1751769, 'name': 'service_type_memory', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076522.1751778, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611076522.1751788, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611076522.1751795, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'What is the nature of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076522.190422, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076669.118528, 'text': "there's a fire", 'parse_data': {'intent': {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.9999700784683228}, 'entities': [{'entity': 'emergency_details', 'start': 10, 'end': 14, 'confidence_entity': 0.8804662823677063, 'value': 'fire', 'extractor': 'DIETClassifier'}], 'text': "there's a fire", 'message_id': '27ee6d0b17aa4dff99cc98b27c0d6ecc', 'metadata': {}, 'intent_ranking': [{'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.9999700784683228}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.6459311154903844e-05}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 7.38545213607722e-06}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 3.4888635127572343e-06}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 1.0464235629115137e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 8.832912499201484e-07}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 4.584334192259121e-07}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 1.2354452394447435e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 7.938545110164341e-08}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 1.189815090896218e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '27ee6d0b17aa4dff99cc98b27c0d6ecc', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076669.1185398, 'name': 'emergency_details', 'value': ['fire']}, {'event': 'action', 'timestamp': 1611076669.1318307, 'name': 'service_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611076669.1318183, 'name': 'emergency_details', 'value': 'fire'}]
    paused = False
    followup_action = None
    active_loop = {'name': 'service_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}, 'intent_ranking': [{'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'service_form'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask if safe
def safe_bot(type):
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '76cff024595a4b009ebb3cca104aec0b'
    slots = {'any_injured': None, 'district': None, 'emergency_details': 'fire', 'emergency_details_memory': 'fire', 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': None, 'form_street_address': None, 'is_safe': "yeah I'm safe", 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': None, 'requested_slot': 'is_safe', 'service_type': ['fire department'], 'service_type_memory': ['fire department'], 'street_address': None, 'victim_details': 'No Victim', 'victim_details_memory': None}

    latest_message_yes= {'intent': {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.9930402636528015}, 'entities': [], 'text': "yeah I'm safe", 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}, 'intent_ranking': [{'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.9930402636528015}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0068761748261749744}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 6.290699820965528e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 7.2110328801500145e-06}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 4.284550414013211e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 3.515180878821411e-06}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.9245042039983673e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 1.7403216361344676e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.2292629207877326e-06}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 7.728355058134184e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}

    latest_message_no= {'intent': {'id': -4864524230070340080, 'name': 'answer_no', 'confidence': 0.9930402636528015}, 'entities': [], 'text': "no i'm not", 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}, 'intent_ranking': [{'id': -4864524230070340080, 'name': 'answer_no', 'confidence': 0.9930402636528015}, {'id': -7393383714276594501, 'name': 'answer_yes', 'confidence': 0.0068761748261749744}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 6.290699820965528e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 7.2110328801500145e-06}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 4.284550414013211e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 3.515180878821411e-06}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.9245042039983673e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 1.7403216361344676e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.2292629207877326e-06}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 7.728355058134184e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}

    latest_message_unsure= {'intent': {'id': -4864524230070340080, 'name': 'answer_unsure', 'confidence': 0.9930402636528015}, 'entities': [], 'text': "i don't know", 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}, 'intent_ranking': [{'id': -4864524230070340080, 'name': 'answer_unsure', 'confidence': 0.9930402636528015}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0068761748261749744}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 6.290699820965528e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 7.2110328801500145e-06}, {'id': 1538748109223483387, 'name': 'answer_yes', 'confidence': 4.284550414013211e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 3.515180878821411e-06}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.9245042039983673e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 1.7403216361344676e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.2292629207877326e-06}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 7.728355058134184e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}

    events = [{'event': 'action', 'timestamp': 1611076480.0691748, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611076480.0691826}, {'event': 'action', 'timestamp': 1611076480.0691962, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611076480.2986596, 'text': '___', 'parse_data': {'intent': {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}, 'intent_ranking': [{'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076480.4313457, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611076480.4313498, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076480.815944, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076480.8159506, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076480.8159544, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076480.815956, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611076480.8159573, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611076481.3418384, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611076481.341842, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611076481.3418436, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076481.341845, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076481.3418458, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611076481.3418467, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611076481.3418477, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076481.357884, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076521.9178877, 'text': 'fire department please', 'parse_data': {'intent': {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 15, 'confidence_entity': 0.8445817232131958, 'value': 'fire department', 'extractor': 'DIETClassifier'}], 'text': 'fire department please', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}, 'intent_ranking': [{'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 3.368238321854733e-05}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 7.216333415271947e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 6.382460924214683e-07}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 3.155557521949959e-07}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 1.432160701142493e-07}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 3.3683168254583506e-08}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 3.1709030956506012e-09}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 2.8756358405601645e-10}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 5.3605293814928956e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076521.9179134, 'name': 'service_type', 'value': ['fire department']}, {'event': 'action', 'timestamp': 1611076522.1751716, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076522.1751754, 'name': 'service_type', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076522.1751769, 'name': 'service_type_memory', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076522.1751778, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611076522.1751788, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611076522.1751795, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'What is the nature of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076522.190422, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076669.118528, 'text': "there's a fire", 'parse_data': {'intent': {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.9999700784683228}, 'entities': [{'entity': 'emergency_details', 'start': 10, 'end': 14, 'confidence_entity': 0.8804662823677063, 'value': 'fire', 'extractor': 'DIETClassifier'}], 'text': "there's a fire", 'message_id': '27ee6d0b17aa4dff99cc98b27c0d6ecc', 'metadata': {}, 'intent_ranking': [{'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.9999700784683228}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.6459311154903844e-05}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 7.38545213607722e-06}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 3.4888635127572343e-06}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 1.0464235629115137e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 8.832912499201484e-07}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 4.584334192259121e-07}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 1.2354452394447435e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 7.938545110164341e-08}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 1.189815090896218e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '27ee6d0b17aa4dff99cc98b27c0d6ecc', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076669.1185398, 'name': 'emergency_details', 'value': ['fire']}, {'event': 'action', 'timestamp': 1611076669.431393, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076669.431397, 'name': 'emergency_details', 'value': 'fire'}, {'event': 'slot', 'timestamp': 1611076669.4313986, 'name': 'emergency_details_memory', 'value': 'fire'}, {'event': 'slot', 'timestamp': 1611076669.4313993, 'name': 'service_type', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076669.4314098, 'name': 'service_type_memory', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076669.431412, 'name': 'requested_slot', 'value': 'is_safe'}, {'event': 'bot', 'timestamp': 1611076669.4314127, 'metadata': {'template_name': 'utter_ask_is_safe'}, 'text': 'Are you safe?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076669.4492593, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076744.5725026, 'text': "yeah I'm safe", 'parse_data': {'intent': {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.9930402636528015}, 'entities': [], 'text': "yeah I'm safe", 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}, 'intent_ranking': [{'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.9930402636528015}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0068761748261749744}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 6.290699820965528e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 7.2110328801500145e-06}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 4.284550414013211e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 3.515180878821411e-06}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.9245042039983673e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 1.7403216361344676e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.2292629207877326e-06}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 7.728355058134184e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076744.5864356, 'name': 'service_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611076744.5864234, 'name': 'is_safe', 'value': "yeah I'm safe"}]
    paused = False
    followup_action = None
    active_loop = {'name': 'service_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}, 'intent_ranking': [{'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'service_form'

    # tracker object
    if (type == "yes"):
        tracker = Tracker(sender_id, slots, latest_message_yes, events, paused, followup_action, active_loop, latest_action_name)
    elif (type == "no"):
        tracker = Tracker(sender_id, slots, latest_message_no, events, paused, followup_action, active_loop, latest_action_name)
    else:
        tracker = Tracker(sender_id, slots, latest_message_unsure, events, paused, followup_action, active_loop, latest_action_name)


    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask if any injured
def injured_bot(type):
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '76cff024595a4b009ebb3cca104aec0b'
    slots = {'any_injured': "i don't think so", 'district': None, 'emergency_details': 'fire', 'emergency_details_memory': 'fire', 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': None, 'form_street_address': None, 'is_safe': 'Yes', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': None, 'requested_slot': 'any_injured', 'service_type': ['fire department'], 'service_type_memory': ['fire department'], 'street_address': None, 'victim_details': 'No Victim', 'victim_details_memory': None}

    latest_message_yes= {'intent': {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.9930402636528015}, 'entities': [], 'text': "yeah I'm safe", 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}, 'intent_ranking': [{'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.9930402636528015}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0068761748261749744}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 6.290699820965528e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 7.2110328801500145e-06}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 4.284550414013211e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 3.515180878821411e-06}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.9245042039983673e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 1.7403216361344676e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.2292629207877326e-06}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 7.728355058134184e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}

    latest_message_no= {'intent': {'id': -4864524230070340080, 'name': 'answer_no', 'confidence': 0.9930402636528015}, 'entities': [], 'text': "no i'm not", 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}, 'intent_ranking': [{'id': -4864524230070340080, 'name': 'answer_no', 'confidence': 0.9930402636528015}, {'id': -7393383714276594501, 'name': 'answer_yes', 'confidence': 0.0068761748261749744}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 6.290699820965528e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 7.2110328801500145e-06}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 4.284550414013211e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 3.515180878821411e-06}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.9245042039983673e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 1.7403216361344676e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.2292629207877326e-06}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 7.728355058134184e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}

    latest_message_unsure= {'intent': {'id': -4864524230070340080, 'name': 'answer_unsure', 'confidence': 0.9930402636528015}, 'entities': [], 'text': "i don't know", 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}, 'intent_ranking': [{'id': -4864524230070340080, 'name': 'answer_unsure', 'confidence': 0.9930402636528015}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0068761748261749744}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 6.290699820965528e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 7.2110328801500145e-06}, {'id': 1538748109223483387, 'name': 'answer_yes', 'confidence': 4.284550414013211e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 3.515180878821411e-06}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.9245042039983673e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 1.7403216361344676e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.2292629207877326e-06}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 7.728355058134184e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}

    events = [{'event': 'action', 'timestamp': 1611076480.0691748, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611076480.0691826}, {'event': 'action', 'timestamp': 1611076480.0691962, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611076480.2986596, 'text': '___', 'parse_data': {'intent': {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}, 'intent_ranking': [{'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076480.4313457, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611076480.4313498, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076480.815944, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076480.8159506, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076480.8159544, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076480.815956, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611076480.8159573, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611076481.3418384, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611076481.341842, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611076481.3418436, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076481.341845, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076481.3418458, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611076481.3418467, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611076481.3418477, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076481.357884, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076521.9178877, 'text': 'fire department please', 'parse_data': {'intent': {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 15, 'confidence_entity': 0.8445817232131958, 'value': 'fire department', 'extractor': 'DIETClassifier'}], 'text': 'fire department please', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}, 'intent_ranking': [{'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.9999644756317139}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 3.368238321854733e-05}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 7.216333415271947e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 6.382460924214683e-07}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 3.155557521949959e-07}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 1.432160701142493e-07}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 3.3683168254583506e-08}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 3.1709030956506012e-09}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 2.8756358405601645e-10}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 5.3605293814928956e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'a2d5bd3258df4e36a1bcc13f21af0a05', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076521.9179134, 'name': 'service_type', 'value': ['fire department']}, {'event': 'action', 'timestamp': 1611076522.1751716, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076522.1751754, 'name': 'service_type', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076522.1751769, 'name': 'service_type_memory', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076522.1751778, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611076522.1751788, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611076522.1751795, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'What is the nature of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076522.190422, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076669.118528, 'text': "there's a fire", 'parse_data': {'intent': {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.9999700784683228}, 'entities': [{'entity': 'emergency_details', 'start': 10, 'end': 14, 'confidence_entity': 0.8804662823677063, 'value': 'fire', 'extractor': 'DIETClassifier'}], 'text': "there's a fire", 'message_id': '27ee6d0b17aa4dff99cc98b27c0d6ecc', 'metadata': {}, 'intent_ranking': [{'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.9999700784683228}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.6459311154903844e-05}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 7.38545213607722e-06}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 3.4888635127572343e-06}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 1.0464235629115137e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 8.832912499201484e-07}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 4.584334192259121e-07}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 1.2354452394447435e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 7.938545110164341e-08}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 1.189815090896218e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '27ee6d0b17aa4dff99cc98b27c0d6ecc', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076669.1185398, 'name': 'emergency_details', 'value': ['fire']}, {'event': 'action', 'timestamp': 1611076669.431393, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076669.431397, 'name': 'emergency_details', 'value': 'fire'}, {'event': 'slot', 'timestamp': 1611076669.4313986, 'name': 'emergency_details_memory', 'value': 'fire'}, {'event': 'slot', 'timestamp': 1611076669.4313993, 'name': 'service_type', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076669.4314098, 'name': 'service_type_memory', 'value': ['fire department']}, {'event': 'slot', 'timestamp': 1611076669.431412, 'name': 'requested_slot', 'value': 'is_safe'}, {'event': 'bot', 'timestamp': 1611076669.4314127, 'metadata': {'template_name': 'utter_ask_is_safe'}, 'text': 'Are you safe?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076669.4492593, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076744.5725026, 'text': "yeah I'm safe", 'parse_data': {'intent': {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.9930402636528015}, 'entities': [], 'text': "yeah I'm safe", 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}, 'intent_ranking': [{'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.9930402636528015}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0068761748261749744}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 6.290699820965528e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 7.2110328801500145e-06}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 4.284550414013211e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 3.515180878821411e-06}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.9245042039983673e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 1.7403216361344676e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 1.2292629207877326e-06}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 7.728355058134184e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'd565ef55e05f4c4c882bf9c175cc18b1', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076744.8876297, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076744.8876336, 'name': 'is_safe', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076744.8876355, 'name': 'requested_slot', 'value': 'any_injured'}, {'event': 'bot', 'timestamp': 1611076744.8876362, 'metadata': {'template_name': 'utter_ask_any_injured'}, 'text': 'Is anyone injured?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076744.9040356, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076848.3449454, 'text': "i don't think so", 'parse_data': {'intent': {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.9998766779899597}, 'entities': [], 'text': "i don't think so", 'message_id': '8870ccf1b22246f0a462f2fe5882b688', 'metadata': {}, 'intent_ranking': [{'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.9998766779899597}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 7.809409726178274e-05}, {'id': -8572383964998827858, 'name': 'give_name', 'confidence': 1.2334757229837123e-05}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 9.57857264438644e-06}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 7.629213996551698e-06}, {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 7.2919642661872786e-06}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 4.126822204852942e-06}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 3.889348590746522e-06}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 2.4559761868658825e-07}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 1.719161559776694e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '8870ccf1b22246f0a462f2fe5882b688', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076848.3581934, 'name': 'service_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611076848.3581793, 'name': 'any_injured', 'value': "i don't think so"}]
    paused = False
    followup_action = None
    active_loop = {'name': 'service_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'c8568966f11848a58c298b212eba87dd', 'metadata': {}, 'intent_ranking': [{'id': -8264253626468234950, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -1545686217298413137, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 4391255169111198575, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': -7610340110186634063, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -4864524230070340080, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7393383714276594501, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1538748109223483387, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3881880285348588563, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6724713241201911677, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': 5371946879055978205, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'service_form'

    # tracker object
    if (type == "yes"):
        tracker = Tracker(sender_id, slots, latest_message_yes, events, paused, followup_action, active_loop, latest_action_name)
    elif (type == "no"):
        tracker = Tracker(sender_id, slots, latest_message_no, events, paused, followup_action, active_loop, latest_action_name)
    else:
        tracker = Tracker(sender_id, slots, latest_message_unsure, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for victim details
def victim_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '5b6dd5b5ef9f46d388df879b3c33d22a'
    slots = {'any_injured': 'Yes', 'district': None, 'emergency_details': 'stroke', 'emergency_details_memory': 'stroke', 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': None, 'form_street_address': None, 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': None, 'requested_slot': 'victim_details', 'service_type': ['ambulance'], 'service_type_memory': ['ambulance'], 'street_address': None, 'victim_details': ['in pain', 'not responding'], 'victim_details_memory': None}
    latest_message = {'intent': {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, 'entities': [{'entity': 'victim_details', 'start': 8, 'end': 15, 'confidence_entity': 0.9202153086662292, 'value': 'in pain', 'extractor': 'DIETClassifier'}, {'entity': 'victim_details', 'start': 20, 'end': 34, 'confidence_entity': 0.9972142577171326, 'value': 'not responding', 'extractor': 'DIETClassifier'}], 'text': "they're in pain and not responding", 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}, 'intent_ranking': [{'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 1.8671873476705514e-05}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 1.2195152521599084e-05}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 6.0909014791832305e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 2.983498916364624e-06}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 2.1401965568657033e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 2.1199759885348612e-06}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 7.015343044258771e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.953355474095588e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7484916270404938e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611076966.7926679, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611076966.7926774}, {'event': 'action', 'timestamp': 1611076966.7926896, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611076967.022951, 'text': '___', 'parse_data': {'intent': {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}, 'intent_ranking': [{'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076967.1548924, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611076967.1548965, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076967.5413115, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076967.541319, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076967.541323, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076967.5413246, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611076967.5413256, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611076968.0384798, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611076968.0384834, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611076968.0384855, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076968.0384867, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076968.0384874, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611076968.0384886, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611076968.038489, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076968.0536914, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076972.5753067, 'text': 'ambulance please', 'parse_data': {'intent': {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.9999955892562866}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 9, 'confidence_entity': 0.9992102384567261, 'value': 'ambulance', 'extractor': 'DIETClassifier'}], 'text': 'ambulance please', 'message_id': '008b9e06cefc4c2dbbdbe110e996bddf', 'metadata': {}, 'intent_ranking': [{'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.9999955892562866}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 2.7702358238457236e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 7.741291483398527e-07}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 3.4461928066775727e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 2.996280841216503e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7517649553155934e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 4.787547425166849e-08}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 3.455074004676817e-09}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 1.446571057384105e-10}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 9.283535051807235e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '008b9e06cefc4c2dbbdbe110e996bddf', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076972.5753224, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'action', 'timestamp': 1611076972.825176, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076972.82518, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076972.8251817, 'name': 'service_type_memory', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076972.8251824, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611076972.8251834, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076972.8251843, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611076972.8251853, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'Can you please describe the details of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076972.8401763, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076983.822761, 'text': 'someone is having a stroke', 'parse_data': {'intent': {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.999990701675415}, 'entities': [{'entity': 'emergency_details', 'start': 20, 'end': 26, 'confidence_entity': 0.9986251592636108, 'value': 'stroke', 'extractor': 'DIETClassifier'}], 'text': 'someone is having a stroke', 'message_id': '145ce738e64a4c1e977f58d02d13749f', 'metadata': {}, 'intent_ranking': [{'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.999990701675415}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 4.259358775016153e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 3.026294507435523e-06}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 7.08397180915199e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 5.870500672244816e-07}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 5.138627443557198e-07}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 1.4332817954709753e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 4.6967070232994956e-08}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 3.3889172357248754e-08}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 4.541318432416119e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '145ce738e64a4c1e977f58d02d13749f', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076983.822773, 'name': 'emergency_details', 'value': ['stroke']}, {'event': 'action', 'timestamp': 1611076984.079705, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076984.0797093, 'name': 'emergency_details', 'value': 'stroke'}, {'event': 'slot', 'timestamp': 1611076984.0797107, 'name': 'emergency_details_memory', 'value': 'stroke'}, {'event': 'slot', 'timestamp': 1611076984.0797114, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076984.0797122, 'name': 'service_type_memory', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076984.079713, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076984.0797138, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611076984.0797143, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076984.0951178, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076993.104155, 'text': "they're in pain and not responding", 'parse_data': {'intent': {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, 'entities': [{'entity': 'victim_details', 'start': 8, 'end': 15, 'confidence_entity': 0.9202153086662292, 'value': 'in pain', 'extractor': 'DIETClassifier'}, {'entity': 'victim_details', 'start': 20, 'end': 34, 'confidence_entity': 0.9972142577171326, 'value': 'not responding', 'extractor': 'DIETClassifier'}], 'text': "they're in pain and not responding", 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}, 'intent_ranking': [{'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 1.8671873476705514e-05}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 1.2195152521599084e-05}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 6.0909014791832305e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 2.983498916364624e-06}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 2.1401965568657033e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 2.1199759885348612e-06}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 7.015343044258771e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.953355474095588e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7484916270404938e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076993.104172, 'name': 'victim_details', 'value': ['in pain', 'not responding']}, {'event': 'action', 'timestamp': 1611076993.1176252, 'name': 'service_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611076993.1176133, 'name': 'victim_details', 'value': ['in pain', 'not responding']}]
    paused = False
    followup_action = None
    active_loop = {'name': 'service_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}, 'intent_ranking': [{'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'service_form'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for street address
def street_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '5b6dd5b5ef9f46d388df879b3c33d22a'
    slots = {'any_injured': 'Yes', 'district': None, 'emergency_details': 'stroke', 'emergency_details_memory': 'stroke', 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': None, 'form_street_address': '12 Charter Avenue', 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': None, 'requested_slot': 'form_street_address', 'service_type': ['ambulance'], 'service_type_memory': ['ambulance'], 'street_address': '12 Charter Avenue', 'victim_details': ['in pain', 'not responding'], 'victim_details_memory': ['in pain', 'not responding']}
    latest_message = {'intent': {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9893942475318909}, 'entities': [{'entity': 'street_address', 'start': 0, 'end': 17, 'confidence_entity': 0.9974198341369629, 'value': '12 Charter Avenue', 'extractor': 'DIETClassifier'}], 'text': '12 Charter Avenue', 'message_id': 'a9a27e45cf964480be3bdcbed1bd9743', 'metadata': {}, 'intent_ranking': [{'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9893942475318909}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.00574458809569478}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.004524556919932365}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0002398206270299852}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 7.56070512579754e-05}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 1.4768292203370947e-05}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 4.3351465137675405e-06}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 1.5029461337690009e-06}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 4.2538496813904203e-07}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 2.1541801231705904e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611076966.7926679, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611076966.7926774}, {'event': 'action', 'timestamp': 1611076966.7926896, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611076967.022951, 'text': '___', 'parse_data': {'intent': {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}, 'intent_ranking': [{'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076967.1548924, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611076967.1548965, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076967.5413115, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076967.541319, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076967.541323, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076967.5413246, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611076967.5413256, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611076968.0384798, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611076968.0384834, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611076968.0384855, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076968.0384867, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076968.0384874, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611076968.0384886, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611076968.038489, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076968.0536914, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076972.5753067, 'text': 'ambulance please', 'parse_data': {'intent': {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.9999955892562866}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 9, 'confidence_entity': 0.9992102384567261, 'value': 'ambulance', 'extractor': 'DIETClassifier'}], 'text': 'ambulance please', 'message_id': '008b9e06cefc4c2dbbdbe110e996bddf', 'metadata': {}, 'intent_ranking': [{'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.9999955892562866}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 2.7702358238457236e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 7.741291483398527e-07}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 3.4461928066775727e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 2.996280841216503e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7517649553155934e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 4.787547425166849e-08}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 3.455074004676817e-09}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 1.446571057384105e-10}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 9.283535051807235e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '008b9e06cefc4c2dbbdbe110e996bddf', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076972.5753224, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'action', 'timestamp': 1611076972.825176, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076972.82518, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076972.8251817, 'name': 'service_type_memory', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076972.8251824, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611076972.8251834, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076972.8251843, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611076972.8251853, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'Can you please describe the details of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076972.8401763, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076983.822761, 'text': 'someone is having a stroke', 'parse_data': {'intent': {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.999990701675415}, 'entities': [{'entity': 'emergency_details', 'start': 20, 'end': 26, 'confidence_entity': 0.9986251592636108, 'value': 'stroke', 'extractor': 'DIETClassifier'}], 'text': 'someone is having a stroke', 'message_id': '145ce738e64a4c1e977f58d02d13749f', 'metadata': {}, 'intent_ranking': [{'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.999990701675415}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 4.259358775016153e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 3.026294507435523e-06}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 7.08397180915199e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 5.870500672244816e-07}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 5.138627443557198e-07}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 1.4332817954709753e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 4.6967070232994956e-08}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 3.3889172357248754e-08}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 4.541318432416119e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '145ce738e64a4c1e977f58d02d13749f', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076983.822773, 'name': 'emergency_details', 'value': ['stroke']}, {'event': 'action', 'timestamp': 1611076984.079705, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076984.0797093, 'name': 'emergency_details', 'value': 'stroke'}, {'event': 'slot', 'timestamp': 1611076984.0797107, 'name': 'emergency_details_memory', 'value': 'stroke'}, {'event': 'slot', 'timestamp': 1611076984.0797114, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076984.0797122, 'name': 'service_type_memory', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076984.079713, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076984.0797138, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611076984.0797143, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076984.0951178, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076993.104155, 'text': "they're in pain and not responding", 'parse_data': {'intent': {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, 'entities': [{'entity': 'victim_details', 'start': 8, 'end': 15, 'confidence_entity': 0.9202153086662292, 'value': 'in pain', 'extractor': 'DIETClassifier'}, {'entity': 'victim_details', 'start': 20, 'end': 34, 'confidence_entity': 0.9972142577171326, 'value': 'not responding', 'extractor': 'DIETClassifier'}], 'text': "they're in pain and not responding", 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}, 'intent_ranking': [{'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 1.8671873476705514e-05}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 1.2195152521599084e-05}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 6.0909014791832305e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 2.983498916364624e-06}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 2.1401965568657033e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 2.1199759885348612e-06}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 7.015343044258771e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.953355474095588e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7484916270404938e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076993.104172, 'name': 'victim_details', 'value': ['in pain', 'not responding']}, {'event': 'action', 'timestamp': 1611076993.3594315, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076993.3594353, 'name': 'victim_details', 'value': ['in pain', 'not responding']}, {'event': 'slot', 'timestamp': 1611076993.3594368, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076993.3594382, 'name': 'victim_details_memory', 'value': ['in pain', 'not responding']}, {'event': 'slot', 'timestamp': 1611076993.3594391, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611076993.3594396, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076993.3744168, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077075.9392588, 'text': '12 Charter Avenue', 'parse_data': {'intent': {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9893942475318909}, 'entities': [{'entity': 'street_address', 'start': 0, 'end': 17, 'confidence_entity': 0.9974198341369629, 'value': '12 Charter Avenue', 'extractor': 'DIETClassifier'}], 'text': '12 Charter Avenue', 'message_id': 'a9a27e45cf964480be3bdcbed1bd9743', 'metadata': {}, 'intent_ranking': [{'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9893942475318909}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.00574458809569478}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.004524556919932365}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0002398206270299852}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 7.56070512579754e-05}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 1.4768292203370947e-05}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 4.3351465137675405e-06}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 1.5029461337690009e-06}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 4.2538496813904203e-07}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 2.1541801231705904e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'a9a27e45cf964480be3bdcbed1bd9743', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077075.9392757, 'name': 'street_address', 'value': '12 Charter Avenue'}, {'event': 'action', 'timestamp': 1611077075.9535873, 'name': 'service_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611077075.9535704, 'name': 'street_address', 'value': '12 Charter Avenue'}, {'event': 'slot', 'timestamp': 1611077075.9535716, 'name': 'form_street_address', 'value': '12 Charter Avenue'}]
    paused = False
    followup_action = None
    active_loop = {'name': 'service_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}, 'intent_ranking': [{'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'service_form'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for postcode
def postcode_bot(type):
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '5b6dd5b5ef9f46d388df879b3c33d22a'

    slots_valid = {'any_injured': 'Yes', 'district': None, 'emergency_details': 'stroke', 'emergency_details_memory': 'stroke', 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': 'cv4 8ge', 'form_street_address': '12 Charter Avenue', 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': ['cv4 8ge', 'cv4 8ge'], 'requested_slot': 'form_postcode', 'service_type': ['ambulance'], 'service_type_memory': ['ambulance'], 'street_address': '12 Charter Avenue', 'victim_details': ['in pain', 'not responding'], 'victim_details_memory': ['in pain', 'not responding']}

    slots_invalid = {'any_injured': 'Yes', 'district': None, 'emergency_details': 'stroke', 'emergency_details_memory': 'stroke', 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': 'AA11 A11', 'form_street_address': '12 Charter Avenue', 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': 'AA11 A11', 'requested_slot': 'form_postcode', 'service_type': ['ambulance'], 'service_type_memory': ['ambulance'], 'street_address': '12 Charter Avenue', 'victim_details': ['in pain', 'not responding'], 'victim_details_memory': ['in pain', 'not responding']}

    latest_message = {'intent': {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9999887943267822}, 'entities': [{'entity': 'postcode', 'start': 0, 'end': 7, 'value': 'cv4 8ge', 'extractor': 'RegexEntityExtractor'}, {'entity': 'postcode', 'start': 0, 'end': 7, 'confidence_entity': 0.9932585954666138, 'value': 'cv4 8ge', 'extractor': 'DIETClassifier'}], 'text': 'cv4 8ge', 'message_id': '511bcbec2a9445b39e4a023c72ae1963', 'metadata': {}, 'intent_ranking': [{'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9999887943267822}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 5.380961283663055e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 4.686170996137662e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 8.325287126353942e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 1.997771477135757e-07}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 1.3462677372899634e-07}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 8.701206155592445e-08}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 1.7341246660862453e-08}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.2134050975685113e-09}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 1.544822936239143e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611076966.7926679, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611076966.7926774}, {'event': 'action', 'timestamp': 1611076966.7926896, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611076967.022951, 'text': '___', 'parse_data': {'intent': {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}, 'intent_ranking': [{'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076967.1548924, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611076967.1548965, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076967.5413115, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076967.541319, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076967.541323, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076967.5413246, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611076967.5413256, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611076968.0384798, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611076968.0384834, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611076968.0384855, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076968.0384867, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076968.0384874, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611076968.0384886, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611076968.038489, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076968.0536914, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076972.5753067, 'text': 'ambulance please', 'parse_data': {'intent': {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.9999955892562866}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 9, 'confidence_entity': 0.9992102384567261, 'value': 'ambulance', 'extractor': 'DIETClassifier'}], 'text': 'ambulance please', 'message_id': '008b9e06cefc4c2dbbdbe110e996bddf', 'metadata': {}, 'intent_ranking': [{'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.9999955892562866}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 2.7702358238457236e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 7.741291483398527e-07}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 3.4461928066775727e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 2.996280841216503e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7517649553155934e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 4.787547425166849e-08}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 3.455074004676817e-09}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 1.446571057384105e-10}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 9.283535051807235e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '008b9e06cefc4c2dbbdbe110e996bddf', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076972.5753224, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'action', 'timestamp': 1611076972.825176, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076972.82518, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076972.8251817, 'name': 'service_type_memory', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076972.8251824, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611076972.8251834, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076972.8251843, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611076972.8251853, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'Can you please describe the details of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076972.8401763, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076983.822761, 'text': 'someone is having a stroke', 'parse_data': {'intent': {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.999990701675415}, 'entities': [{'entity': 'emergency_details', 'start': 20, 'end': 26, 'confidence_entity': 0.9986251592636108, 'value': 'stroke', 'extractor': 'DIETClassifier'}], 'text': 'someone is having a stroke', 'message_id': '145ce738e64a4c1e977f58d02d13749f', 'metadata': {}, 'intent_ranking': [{'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.999990701675415}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 4.259358775016153e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 3.026294507435523e-06}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 7.08397180915199e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 5.870500672244816e-07}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 5.138627443557198e-07}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 1.4332817954709753e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 4.6967070232994956e-08}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 3.3889172357248754e-08}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 4.541318432416119e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '145ce738e64a4c1e977f58d02d13749f', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076983.822773, 'name': 'emergency_details', 'value': ['stroke']}, {'event': 'action', 'timestamp': 1611076984.079705, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076984.0797093, 'name': 'emergency_details', 'value': 'stroke'}, {'event': 'slot', 'timestamp': 1611076984.0797107, 'name': 'emergency_details_memory', 'value': 'stroke'}, {'event': 'slot', 'timestamp': 1611076984.0797114, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076984.0797122, 'name': 'service_type_memory', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076984.079713, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076984.0797138, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611076984.0797143, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076984.0951178, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076993.104155, 'text': "they're in pain and not responding", 'parse_data': {'intent': {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, 'entities': [{'entity': 'victim_details', 'start': 8, 'end': 15, 'confidence_entity': 0.9202153086662292, 'value': 'in pain', 'extractor': 'DIETClassifier'}, {'entity': 'victim_details', 'start': 20, 'end': 34, 'confidence_entity': 0.9972142577171326, 'value': 'not responding', 'extractor': 'DIETClassifier'}], 'text': "they're in pain and not responding", 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}, 'intent_ranking': [{'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 1.8671873476705514e-05}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 1.2195152521599084e-05}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 6.0909014791832305e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 2.983498916364624e-06}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 2.1401965568657033e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 2.1199759885348612e-06}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 7.015343044258771e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.953355474095588e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7484916270404938e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076993.104172, 'name': 'victim_details', 'value': ['in pain', 'not responding']}, {'event': 'action', 'timestamp': 1611076993.3594315, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076993.3594353, 'name': 'victim_details', 'value': ['in pain', 'not responding']}, {'event': 'slot', 'timestamp': 1611076993.3594368, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076993.3594382, 'name': 'victim_details_memory', 'value': ['in pain', 'not responding']}, {'event': 'slot', 'timestamp': 1611076993.3594391, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611076993.3594396, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076993.3744168, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077075.9392588, 'text': '12 Charter Avenue', 'parse_data': {'intent': {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9893942475318909}, 'entities': [{'entity': 'street_address', 'start': 0, 'end': 17, 'confidence_entity': 0.9974198341369629, 'value': '12 Charter Avenue', 'extractor': 'DIETClassifier'}], 'text': '12 Charter Avenue', 'message_id': 'a9a27e45cf964480be3bdcbed1bd9743', 'metadata': {}, 'intent_ranking': [{'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9893942475318909}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.00574458809569478}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.004524556919932365}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0002398206270299852}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 7.56070512579754e-05}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 1.4768292203370947e-05}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 4.3351465137675405e-06}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 1.5029461337690009e-06}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 4.2538496813904203e-07}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 2.1541801231705904e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'a9a27e45cf964480be3bdcbed1bd9743', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077075.9392757, 'name': 'street_address', 'value': '12 Charter Avenue'}, {'event': 'action', 'timestamp': 1611077076.2064784, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077076.2064824, 'name': 'form_street_address', 'value': '12 Charter Avenue'}, {'event': 'slot', 'timestamp': 1611077076.2064846, 'name': 'street_address', 'value': '12 Charter Avenue'}, {'event': 'slot', 'timestamp': 1611077076.2064853, 'name': 'requested_slot', 'value': 'form_postcode'}, {'event': 'bot', 'timestamp': 1611077076.206486, 'metadata': {'template_name': 'utter_ask_form_postcode'}, 'text': 'Can you please provide your postcode?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077076.223971, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077144.4580288, 'text': 'cv4 8ge', 'parse_data': {'intent': {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9999887943267822}, 'entities': [{'entity': 'postcode', 'start': 0, 'end': 7, 'value': 'cv4 8ge', 'extractor': 'RegexEntityExtractor'}, {'entity': 'postcode', 'start': 0, 'end': 7, 'confidence_entity': 0.9932585954666138, 'value': 'cv4 8ge', 'extractor': 'DIETClassifier'}], 'text': 'cv4 8ge', 'message_id': '511bcbec2a9445b39e4a023c72ae1963', 'metadata': {}, 'intent_ranking': [{'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9999887943267822}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 5.380961283663055e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 4.686170996137662e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 8.325287126353942e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 1.997771477135757e-07}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 1.3462677372899634e-07}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 8.701206155592445e-08}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 1.7341246660862453e-08}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.2134050975685113e-09}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 1.544822936239143e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '511bcbec2a9445b39e4a023c72ae1963', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077144.4580545, 'name': 'postcode', 'value': 'cv4 8ge'}, {'event': 'action', 'timestamp': 1611077144.4730675, 'name': 'service_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611077144.4730525, 'name': 'postcode', 'value': ['cv4 8ge', 'cv4 8ge']}, {'event': 'slot', 'timestamp': 1611077144.4730537, 'name': 'form_postcode', 'value': 'cv4 8ge'}]
    paused = False
    followup_action = None
    active_loop = {'name': 'service_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}, 'intent_ranking': [{'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'service_form'

    if (type == "valid"):
        tracker = Tracker(sender_id, slots_valid, latest_message, events, paused, followup_action, active_loop, latest_action_name)
    else:
        tracker = Tracker(sender_id, slots_invalid, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for location description
def location_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '63e0c679f21c4ede9e4bd7466364b0f5'
    slots = {'any_injured': 'Yes', 'district': 'Daventry', 'emergency_details': 'stabbing', 'emergency_details_memory': 'stabbing', 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': "I'm not sure where I am", 'form_street_address': "I'm not sure where I am", 'is_safe': 'Yes', 'location_description': "I'm near the Daventry park, there's a red house here", 'name': None, 'phone_number': None, 'postcode': 'Unknown', 'requested_slot': 'location_description', 'service_type': ['police', 'ambulance'], 'service_type_memory': ['police', 'ambulance'], 'street_address': 'Unknown', 'victim_details': 'bleeding', 'victim_details_memory': 'bleeding'}
    latest_message = {'intent': {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, 'entities': [{'entity': 'district', 'start': 13, 'end': 21, 'confidence_entity': 0.9982333183288574, 'value': 'Daventry', 'extractor': 'DIETClassifier'}], 'text': "I'm near the Daventry park, there's a red house here", 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}, 'intent_ranking': [{'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.015673577785491943}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.010614289902150631}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.006183353252708912}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0006412618677131832}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.000384430488338694}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 5.015307760913856e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 4.150867243879475e-05}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 2.081744241877459e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.7976697058184072e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611077382.9489484, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611077382.948957}, {'event': 'action', 'timestamp': 1611077382.9490037, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611077383.1960106, 'text': '___', 'parse_data': {'intent': {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}, 'intent_ranking': [{'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077383.3297055, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077383.329709, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077383.7315788, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077383.7315862, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077383.7315898, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077383.7315917, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611077383.7315927, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611077384.3851812, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077384.3851845, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611077384.3851862, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077384.3851876, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077384.3851886, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611077384.3851893, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611077384.3851902, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077384.4028354, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077394.7421467, 'text': "police please, i've been stabbed", 'parse_data': {'intent': {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.8041509985923767}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 6, 'confidence_entity': 0.998907208442688, 'value': 'police', 'extractor': 'DIETClassifier'}, {'entity': 'emergency_details', 'start': 25, 'end': 32, 'confidence_entity': 0.9993614554405212, 'value': 'stabbing', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}], 'text': "police please, i've been stabbed", 'message_id': '6000c0196ecd418ba4ee261dda1d3c8b', 'metadata': {}, 'intent_ranking': [{'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.8041509985923767}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.16532395780086517}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.02184775099158287}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0028415180277079344}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.0027274484746158123}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.001090210280381143}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.001030266284942627}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0007519370410591364}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.00014001934323459864}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 9.584162035025656e-05}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '6000c0196ecd418ba4ee261dda1d3c8b', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077394.7421584, 'name': 'emergency_details', 'value': ['stabbing']}, {'event': 'slot', 'timestamp': 1611077394.7421637, 'name': 'service_type', 'value': ['police']}, {'event': 'action', 'timestamp': 1611077395.029486, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077395.0294895, 'name': 'service_type', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077395.0294907, 'name': 'emergency_details', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611077395.0294917, 'name': 'service_type_memory', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077395.0294924, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611077395.0294938, 'name': 'emergency_details_memory', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611077395.0294945, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611077395.0294955, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077395.0294967, 'name': 'requested_slot', 'value': 'is_safe'}, {'event': 'bot', 'timestamp': 1611077395.0294974, 'metadata': {'template_name': 'utter_ask_is_safe'}, 'text': 'Are you currently in a safe location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077395.0475893, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077397.0178037, 'text': 'yeah', 'parse_data': {'intent': {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.999980092048645}, 'entities': [], 'text': 'yeah', 'message_id': '38dbfd2151824da8b1c8f8e05e4386d9', 'metadata': {}, 'intent_ranking': [{'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.999980092048645}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 1.2715197954094037e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 1.831417080211395e-06}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 1.4239022902984289e-06}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 1.3022820439800853e-06}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 9.558825695421547e-07}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 7.380565421044594e-07}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 4.6361816430362524e-07}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 4.09983698546057e-07}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.2576521157825482e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '38dbfd2151824da8b1c8f8e05e4386d9', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077397.3042135, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077397.3042176, 'name': 'is_safe', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077397.3042195, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611077397.3042202, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077397.3220625, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077402.011033, 'text': "i'm bleeding", 'parse_data': {'intent': {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.9997976422309875}, 'entities': [{'entity': 'victim_details', 'start': 4, 'end': 12, 'confidence_entity': 0.9695760607719421, 'value': 'bleeding', 'extractor': 'DIETClassifier'}], 'text': "i'm bleeding", 'message_id': '224b90ebf0e548169faa8caa60304d0e', 'metadata': {}, 'intent_ranking': [{'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.9997976422309875}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 6.46255721221678e-05}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 4.531626109383069e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 2.4956470952020027e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 1.6262329154415056e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.6199359379243106e-05}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 1.326954679825576e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 9.571542250341736e-06}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 8.277123015432153e-06}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 3.847802872769535e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '224b90ebf0e548169faa8caa60304d0e', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077402.011048, 'name': 'victim_details', 'value': ['bleeding']}, {'event': 'action', 'timestamp': 1611077402.2986898, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077402.2986934, 'name': 'victim_details', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077402.298695, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077402.2986963, 'name': 'victim_details_memory', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077402.298697, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611077402.2986977, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077402.3159595, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077408.6566236, 'text': "I'm not sure where I am", 'parse_data': {'intent': {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.9999688863754272}, 'entities': [], 'text': "I'm not sure where I am", 'message_id': 'e2e418ce34ed41e69fc504b61fd693f5', 'metadata': {}, 'intent_ranking': [{'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.9999688863754272}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 1.0576253771432675e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 1.023426102619851e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 3.5286384445498697e-06}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 2.90273669634189e-06}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 1.89559216323687e-06}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.221257207362214e-06}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.523515204051364e-07}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 2.0486730534230446e-07}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 2.0396295496993844e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'e2e418ce34ed41e69fc504b61fd693f5', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077408.941647, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077408.941651, 'name': 'form_street_address', 'value': "I'm not sure where I am"}, {'event': 'slot', 'timestamp': 1611077408.9416528, 'name': 'street_address', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077408.9416537, 'name': 'location_description', 'value': None}, {'event': 'slot', 'timestamp': 1611077408.9416547, 'name': 'postcode', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077408.9416556, 'name': 'form_postcode', 'value': "I'm not sure where I am"}, {'event': 'slot', 'timestamp': 1611077408.9416566, 'name': 'requested_slot', 'value': 'location_description'}, {'event': 'bot', 'timestamp': 1611077408.941657, 'metadata': {'template_name': 'utter_ask_location_description'}, 'text': 'Can you please describe your surroundings? What can you see?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077408.9587998, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077443.3366888, 'text': "I'm near the Daventry park, there's a red house here", 'parse_data': {'intent': {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, 'entities': [{'entity': 'district', 'start': 13, 'end': 21, 'confidence_entity': 0.9982333183288574, 'value': 'Daventry', 'extractor': 'DIETClassifier'}], 'text': "I'm near the Daventry park, there's a red house here", 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}, 'intent_ranking': [{'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.015673577785491943}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.010614289902150631}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.006183353252708912}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0006412618677131832}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.000384430488338694}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 5.015307760913856e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 4.150867243879475e-05}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 2.081744241877459e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.7976697058184072e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077443.3367, 'name': 'district', 'value': 'Daventry'}, {'event': 'action', 'timestamp': 1611077443.3507192, 'name': 'service_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611077443.3507037, 'name': 'location_description', 'value': "I'm near the Daventry park, there's a red house here"}]
    paused = False
    followup_action = None
    active_loop = {'name': 'service_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}, 'intent_ranking': [{'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'service_form'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot who has filled out all service information
def halfway_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = 'f13e458379b64b51821888250d0f50cf'
    slots = {'any_injured': 'Yes', 'district': 'Conventry', 'emergency_details': ['theft', 'stabbing'], 'emergency_details_memory': ['theft', 'stabbing'], 'extra_details': None, 'first_aid': 'Not Relevant', 'form_name': None, 'form_phone_number': None, 'form_postcode': "i don't know it", 'form_street_address': "i don't know it", 'is_safe': 'Yes', 'location_description': 'near the park in Conventry', 'name': None, 'phone_number': None, 'postcode': 'Unknown', 'requested_slot': None, 'service_type': ['police', 'ambulance'], 'service_type_memory': ['police', 'ambulance'], 'street_address': 'Unknown', 'victim_details': 'bleeding', 'victim_details_memory': 'bleeding'}
    latest_message = {'intent': {'id': 1154442973562253606, 'name': 'give_location', 'confidence': 0.9999910593032837}, 'entities': [{'entity': 'district', 'start': 17, 'end': 26, 'confidence_entity': 0.9932571649551392, 'value': 'Conventry', 'extractor': 'DIETClassifier'}], 'text': 'near the park in Conventry', 'message_id': '3da5cf8ce15f450cb2f2ba686ab4d12b', 'metadata': {}, 'intent_ranking': [{'id': 1154442973562253606, 'name': 'give_location', 'confidence': 0.9999910593032837}, {'id': -83986125546217878, 'name': 'begin', 'confidence': 4.578870630211895e-06}, {'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 1.7575712263351306e-06}, {'id': 7715415865980684294, 'name': 'give_service', 'confidence': 1.5544050029348e-06}, {'id': -7612507900410473688, 'name': 'start_form', 'confidence': 5.412324526332668e-07}, {'id': 6477801379845463502, 'name': 'give_phone_number', 'confidence': 4.665305937123776e-07}, {'id': -7794134836603961929, 'name': 'answer_no', 'confidence': 1.0471342015705432e-08}, {'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 4.231337502602628e-09}, {'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 6.557358545045133e-10}, {'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 5.142778425337724e-10}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611077889.2932532, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611077889.2932618}, {'event': 'action', 'timestamp': 1611077889.2932837, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611077889.5312169, 'text': '___', 'parse_data': {'intent': {'id': -7612507900410473688, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '4220e39a41ba41dfb78350d5a73e35f1', 'metadata': {}, 'intent_ranking': [{'id': -7612507900410473688, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 7715415865980684294, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 1154442973562253606, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -7794134836603961929, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': 6477801379845463502, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -83986125546217878, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '4220e39a41ba41dfb78350d5a73e35f1', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077889.6653733, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077889.6653776, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077890.0680513, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077890.068064, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077890.0680702, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077890.0680718, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611077890.0680733, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611077890.594359, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077890.594375, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611077890.5943785, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077890.5943804, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077890.5943818, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611077890.5943828, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611077890.594384, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077890.6111755, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077894.1462853, 'text': 'police please', 'parse_data': {'intent': {'id': 7715415865980684294, 'name': 'give_service', 'confidence': 0.9999970197677612}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 6, 'confidence_entity': 0.998953104019165, 'value': 'police', 'extractor': 'DIETClassifier'}], 'text': 'police please', 'message_id': '068e0e70f28d406ab7cdb6a56d3d655f', 'metadata': {}, 'intent_ranking': [{'id': 7715415865980684294, 'name': 'give_service', 'confidence': 0.9999970197677612}, {'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 1.347193915535172e-06}, {'id': 1154442973562253606, 'name': 'give_location', 'confidence': 5.776074090135808e-07}, {'id': 6477801379845463502, 'name': 'give_phone_number', 'confidence': 4.418523928961804e-07}, {'id': -7612507900410473688, 'name': 'start_form', 'confidence': 4.057531555190508e-07}, {'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 1.617241025542171e-07}, {'id': -1982794841376041552, 'name': 'give_name', 'confidence': 2.781541041940727e-08}, {'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 3.610499010875401e-09}, {'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 5.00353473931181e-11}, {'id': -83986125546217878, 'name': 'begin', 'confidence': 3.036071047346489e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '068e0e70f28d406ab7cdb6a56d3d655f', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077894.1462998, 'name': 'service_type', 'value': ['police']}, {'event': 'action', 'timestamp': 1611077894.414963, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077894.4149668, 'name': 'service_type', 'value': ['police']}, {'event': 'slot', 'timestamp': 1611077894.4149692, 'name': 'service_type_memory', 'value': ['police']}, {'event': 'slot', 'timestamp': 1611077894.41497, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611077894.4149709, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611077894.4149716, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'Can you please describe the details of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077894.431631, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077901.5307539, 'text': 'i was robbed and someone was stabbed', 'parse_data': {'intent': {'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 0.9999921321868896}, 'entities': [{'entity': 'emergency_details', 'start': 6, 'end': 12, 'confidence_entity': 0.9992192983627319, 'value': 'theft', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}, {'entity': 'emergency_details', 'start': 29, 'end': 36, 'confidence_entity': 0.999370276927948, 'value': 'stabbing', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}], 'text': 'i was robbed and someone was stabbed', 'message_id': '6380fab900f949658868134af08cedd3', 'metadata': {}, 'intent_ranking': [{'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 0.9999921321868896}, {'id': -83986125546217878, 'name': 'begin', 'confidence': 5.636481091642054e-06}, {'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 1.4488125543721253e-06}, {'id': -1982794841376041552, 'name': 'give_name', 'confidence': 2.9065728313071304e-07}, {'id': -7612507900410473688, 'name': 'start_form', 'confidence': 2.2053494319607125e-07}, {'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 1.481720204310477e-07}, {'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 9.83376011731707e-08}, {'id': -7794134836603961929, 'name': 'answer_no', 'confidence': 5.6336919129762464e-08}, {'id': 6477801379845463502, 'name': 'give_phone_number', 'confidence': 1.9985890276075224e-08}, {'id': 1154442973562253606, 'name': 'give_location', 'confidence': 1.6093264498806548e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '6380fab900f949658868134af08cedd3', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077901.5307653, 'name': 'emergency_details', 'value': ['theft', 'stabbing']}, {'event': 'action', 'timestamp': 1611077901.7969873, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077901.7969913, 'name': 'emergency_details', 'value': ['theft', 'stabbing']}, {'event': 'slot', 'timestamp': 1611077901.7969933, 'name': 'emergency_details_memory', 'value': ['theft', 'stabbing']}, {'event': 'slot', 'timestamp': 1611077901.796994, 'name': 'service_type', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077901.7969952, 'name': 'service_type_memory', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077901.7969959, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611077901.7969966, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077901.796997, 'name': 'requested_slot', 'value': 'is_safe'}, {'event': 'bot', 'timestamp': 1611077901.7969978, 'metadata': {'template_name': 'utter_ask_is_safe'}, 'text': 'Are you safe?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077901.8138928, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077903.4806154, 'text': 'yeah', 'parse_data': {'intent': {'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 0.999980092048645}, 'entities': [], 'text': 'yeah', 'message_id': '84ec16fbbbcd4221abb66ad94748acf1', 'metadata': {}, 'intent_ranking': [{'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 0.999980092048645}, {'id': 1154442973562253606, 'name': 'give_location', 'confidence': 1.2715197954094037e-05}, {'id': -7794134836603961929, 'name': 'answer_no', 'confidence': 1.831417080211395e-06}, {'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 1.4239022902984289e-06}, {'id': -83986125546217878, 'name': 'begin', 'confidence': 1.3022820439800853e-06}, {'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 9.558825695421547e-07}, {'id': 6477801379845463502, 'name': 'give_phone_number', 'confidence': 7.380565421044594e-07}, {'id': -7612507900410473688, 'name': 'start_form', 'confidence': 4.6361816430362524e-07}, {'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 4.09983698546057e-07}, {'id': 7715415865980684294, 'name': 'give_service', 'confidence': 1.2576521157825482e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '84ec16fbbbcd4221abb66ad94748acf1', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077903.7455654, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077903.7455704, 'name': 'is_safe', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077903.745572, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611077903.745573, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077903.7619464, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077906.2611914, 'text': 'bleeding', 'parse_data': {'intent': {'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 0.9999526739120483}, 'entities': [{'entity': 'victim_details', 'start': 0, 'end': 8, 'confidence_entity': 0.9797041416168213, 'value': 'bleeding', 'extractor': 'DIETClassifier'}], 'text': 'bleeding', 'message_id': 'abc122714d374619a53ecdf4aa170ed5', 'metadata': {}, 'intent_ranking': [{'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 0.9999526739120483}, {'id': -7612507900410473688, 'name': 'start_form', 'confidence': 1.9107521438854747e-05}, {'id': 6477801379845463502, 'name': 'give_phone_number', 'confidence': 1.2503024663601536e-05}, {'id': -83986125546217878, 'name': 'begin', 'confidence': 4.50325296696974e-06}, {'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 3.828256012639031e-06}, {'id': 7715415865980684294, 'name': 'give_service', 'confidence': 3.0491114557662513e-06}, {'id': -1982794841376041552, 'name': 'give_name', 'confidence': 2.1450844087667065e-06}, {'id': -7794134836603961929, 'name': 'answer_no', 'confidence': 1.4296937251856434e-06}, {'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 5.779019147666986e-07}, {'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 1.7027755916387832e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'abc122714d374619a53ecdf4aa170ed5', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077906.2612076, 'name': 'victim_details', 'value': ['bleeding']}, {'event': 'action', 'timestamp': 1611077906.5319388, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077906.5319428, 'name': 'victim_details', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077906.531945, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077906.531946, 'name': 'victim_details_memory', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077906.5319464, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611077906.5319474, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077906.547762, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077910.48423, 'text': "i don't know it", 'parse_data': {'intent': {'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 0.9999922513961792}, 'entities': [], 'text': "i don't know it", 'message_id': 'c7ee624797ee44ffaf58869c9a7ff244', 'metadata': {}, 'intent_ranking': [{'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 0.9999922513961792}, {'id': -1982794841376041552, 'name': 'give_name', 'confidence': 5.670307928085094e-06}, {'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 7.053014314806205e-07}, {'id': 7715415865980684294, 'name': 'give_service', 'confidence': 5.179358026907721e-07}, {'id': -83986125546217878, 'name': 'begin', 'confidence': 3.529513605826651e-07}, {'id': -7612507900410473688, 'name': 'start_form', 'confidence': 3.3601534710214764e-07}, {'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 5.090073429414588e-08}, {'id': -7794134836603961929, 'name': 'answer_no', 'confidence': 3.2712080155761214e-08}, {'id': 1154442973562253606, 'name': 'give_location', 'confidence': 2.680306110391939e-08}, {'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 1.323935450159297e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'c7ee624797ee44ffaf58869c9a7ff244', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077910.751228, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077910.7512333, 'name': 'form_street_address', 'value': "i don't know it"}, {'event': 'slot', 'timestamp': 1611077910.7512362, 'name': 'street_address', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077910.7512372, 'name': 'location_description', 'value': None}, {'event': 'slot', 'timestamp': 1611077910.7512383, 'name': 'postcode', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077910.7512395, 'name': 'form_postcode', 'value': "i don't know it"}, {'event': 'slot', 'timestamp': 1611077910.7512403, 'name': 'requested_slot', 'value': 'location_description'}, {'event': 'bot', 'timestamp': 1611077910.751241, 'metadata': {'template_name': 'utter_ask_location_description'}, 'text': 'Can you please describe your surroundings? What can you see?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077910.769245, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077917.3535354, 'text': 'near the park in Conventry', 'parse_data': {'intent': {'id': 1154442973562253606, 'name': 'give_location', 'confidence': 0.9999910593032837}, 'entities': [{'entity': 'district', 'start': 17, 'end': 26, 'confidence_entity': 0.9932571649551392, 'value': 'Conventry', 'extractor': 'DIETClassifier'}], 'text': 'near the park in Conventry', 'message_id': '3da5cf8ce15f450cb2f2ba686ab4d12b', 'metadata': {}, 'intent_ranking': [{'id': 1154442973562253606, 'name': 'give_location', 'confidence': 0.9999910593032837}, {'id': -83986125546217878, 'name': 'begin', 'confidence': 4.578870630211895e-06}, {'id': 6608983684573681805, 'name': 'answer_yes', 'confidence': 1.7575712263351306e-06}, {'id': 7715415865980684294, 'name': 'give_service', 'confidence': 1.5544050029348e-06}, {'id': -7612507900410473688, 'name': 'start_form', 'confidence': 5.412324526332668e-07}, {'id': 6477801379845463502, 'name': 'give_phone_number', 'confidence': 4.665305937123776e-07}, {'id': -7794134836603961929, 'name': 'answer_no', 'confidence': 1.0471342015705432e-08}, {'id': -2222370749810669567, 'name': 'describe_victim', 'confidence': 4.231337502602628e-09}, {'id': 600560457139914682, 'name': 'describe_emergency', 'confidence': 6.557358545045133e-10}, {'id': 1265172749463348114, 'name': 'answer_unsure', 'confidence': 5.142778425337724e-10}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '3da5cf8ce15f450cb2f2ba686ab4d12b', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077917.3535485, 'name': 'district', 'value': 'Conventry'}, {'event': 'action', 'timestamp': 1611077917.6325936, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077917.6325974, 'name': 'location_description', 'value': 'near the park in Conventry'}, {'event': 'slot', 'timestamp': 1611077917.6325994, 'name': 'requested_slot', 'value': None}, {'event': 'active_loop', 'timestamp': 1611077917.6326003, 'name': None}, {'event': 'action', 'timestamp': 1611077917.6468093, 'name': 'utter_dispatch', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077917.6468139, 'metadata': {'template_name': 'utter_dispatch'}, 'text': 'DISPATCH', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077918.0654523, 'name': 'action_save_service_info', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}]
    paused = False
    followup_action = None
    active_loop = {}
    latest_action_name = 'action_save_service_info'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask about first aid experience
def first_aid_bot(type):
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '5b6dd5b5ef9f46d388df879b3c33d22a'

    slots_stroke = {'any_injured': 'Yes', 'district': 'Coventry', 'emergency_details': 'stroke', 'emergency_details_memory': 'stroke', 'extra_details': None, 'first_aid': "I don't", 'form_name': None, 'form_phone_number': None, 'form_postcode': 'cv4 8ge', 'form_street_address': '12 Charter Avenue', 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': 'cv4 8ge', 'requested_slot': 'first_aid', 'service_type': ['ambulance'], 'service_type_memory':
    ['ambulance'], 'street_address': '12 Charter Avenue', 'victim_details': ['in pain', 'not responding'], 'victim_details_memory': ['in pain', 'not responding']}

    slots_covid = {'any_injured': 'Yes', 'district': 'Coventry', 'emergency_details': 'COVID-19', 'emergency_details_memory': 'COVID-19', 'extra_details': None, 'first_aid': "I don't", 'form_name': None, 'form_phone_number': None, 'form_postcode': 'cv4 8ge', 'form_street_address': '12 Charter Avenue', 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': 'cv4 8ge', 'requested_slot': 'first_aid', 'service_type': ['ambulance'], 'service_type_memory':
    ['ambulance'], 'street_address': '12 Charter Avenue', 'victim_details': ['in pain', 'not responding'], 'victim_details_memory': ['in pain', 'not responding']}

    slots_bleeding = {'any_injured': 'Yes', 'district': 'Coventry', 'emergency_details': 'stabbing', 'emergency_details_memory': 'stabbing', 'extra_details': None, 'first_aid': "I don't", 'form_name': None, 'form_phone_number': None, 'form_postcode': 'cv4 8ge', 'form_street_address': '12 Charter Avenue', 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': 'cv4 8ge', 'requested_slot': 'first_aid', 'service_type': ['ambulance'], 'service_type_memory':
    ['ambulance'], 'street_address': '12 Charter Avenue', 'victim_details': ['bleeding'], 'victim_details_memory': ['bleeding']}

    slots_default = {'any_injured': 'Yes', 'district': 'Coventry', 'emergency_details': '', 'emergency_details_memory': '', 'extra_details': None, 'first_aid': "I don't", 'form_name': None, 'form_phone_number': None, 'form_postcode': 'cv4 8ge', 'form_street_address': '12 Charter Avenue', 'is_safe': 'Irrelevant', 'location_description': 'Not Needed', 'name': None, 'phone_number': None, 'postcode': 'cv4 8ge', 'requested_slot': 'first_aid', 'service_type': ['ambulance'], 'service_type_memory':
    ['ambulance'], 'street_address': '12 Charter Avenue', 'victim_details': [''], 'victim_details_memory': ['']}

    latest_message = {'intent': {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.9999552965164185}, 'entities': [], 'text': "I don't", 'message_id': 'a4b0432d59874ca1bcdfbc5bdac36a27', 'metadata': {}, 'intent_ranking': [{'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.9999552965164185}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 2.498381581972353e-05}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 5.915321253269212e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 3.776275434574927e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 3.22140886055422e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 3.1974432204151526e-06}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 2.956286152766552e-06}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 6.286551865741785e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 4.3877051325580396e-08}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 2.9075620133767188e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611076966.7926679, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611076966.7926774}, {'event': 'action', 'timestamp': 1611076966.7926896, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611076967.022951, 'text': '___', 'parse_data': {'intent': {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}, 'intent_ranking': [{'id': -5405258639926235373, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '3d7809aabd954a149c69d1c834942707', 'metadata': {}}, {'event': 'action', 'timestamp': 1611076967.1548924, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611076967.1548965, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076967.5413115, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076967.541319, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076967.541323, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076967.5413246, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611076967.5413256, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611076968.0384798, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611076968.0384834, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611076968.0384855, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611076968.0384867, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611076968.0384874, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611076968.0384886, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611076968.038489, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076968.0536914, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076972.5753067, 'text': 'ambulance please', 'parse_data': {'intent': {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.9999955892562866}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 9, 'confidence_entity': 0.9992102384567261, 'value': 'ambulance', 'extractor': 'DIETClassifier'}], 'text': 'ambulance please', 'message_id': '008b9e06cefc4c2dbbdbe110e996bddf', 'metadata': {}, 'intent_ranking': [{'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.9999955892562866}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 2.7702358238457236e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 7.741291483398527e-07}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 3.4461928066775727e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 2.996280841216503e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7517649553155934e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 4.787547425166849e-08}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 3.455074004676817e-09}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 1.446571057384105e-10}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 9.283535051807235e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '008b9e06cefc4c2dbbdbe110e996bddf', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076972.5753224, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'action', 'timestamp': 1611076972.825176, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076972.82518, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076972.8251817, 'name': 'service_type_memory', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076972.8251824, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611076972.8251834, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076972.8251843, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611076972.8251853, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'Can you please describe the details of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076972.8401763, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076983.822761, 'text': 'someone is having a stroke', 'parse_data': {'intent': {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.999990701675415}, 'entities': [{'entity': 'emergency_details', 'start': 20, 'end': 26, 'confidence_entity': 0.9986251592636108, 'value': 'stroke', 'extractor': 'DIETClassifier'}], 'text': 'someone is having a stroke', 'message_id': '145ce738e64a4c1e977f58d02d13749f', 'metadata': {}, 'intent_ranking': [{'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 0.999990701675415}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 4.259358775016153e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 3.026294507435523e-06}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 7.08397180915199e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 5.870500672244816e-07}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 5.138627443557198e-07}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 1.4332817954709753e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 4.6967070232994956e-08}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 3.3889172357248754e-08}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 4.541318432416119e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '145ce738e64a4c1e977f58d02d13749f', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076983.822773, 'name': 'emergency_details', 'value': ['stroke']}, {'event': 'action', 'timestamp': 1611076984.079705, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076984.0797093, 'name': 'emergency_details', 'value': 'stroke'}, {'event': 'slot', 'timestamp': 1611076984.0797107, 'name': 'emergency_details_memory', 'value': 'stroke'}, {'event': 'slot', 'timestamp': 1611076984.0797114, 'name': 'service_type', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076984.0797122, 'name': 'service_type_memory', 'value': ['ambulance']}, {'event': 'slot', 'timestamp': 1611076984.079713, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076984.0797138, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611076984.0797143, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076984.0951178, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611076993.104155, 'text': "they're in pain and not responding", 'parse_data': {'intent': {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, 'entities': [{'entity': 'victim_details', 'start': 8, 'end': 15, 'confidence_entity': 0.9202153086662292, 'value': 'in pain', 'extractor': 'DIETClassifier'}, {'entity': 'victim_details', 'start': 20, 'end': 34, 'confidence_entity': 0.9972142577171326, 'value': 'not responding', 'extractor': 'DIETClassifier'}], 'text': "they're in pain and not responding", 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}, 'intent_ranking': [{'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 0.9999544620513916}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 1.8671873476705514e-05}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 1.2195152521599084e-05}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 6.0909014791832305e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 2.983498916364624e-06}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 2.1401965568657033e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 2.1199759885348612e-06}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 7.015343044258771e-07}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.953355474095588e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 1.7484916270404938e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'ed8ceef9780a4a949760a0983d95f576', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611076993.104172, 'name': 'victim_details', 'value': ['in pain', 'not responding']}, {'event': 'action', 'timestamp': 1611076993.3594315, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611076993.3594353, 'name': 'victim_details', 'value': ['in pain', 'not responding']}, {'event': 'slot', 'timestamp': 1611076993.3594368, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611076993.3594382, 'name': 'victim_details_memory', 'value': ['in pain', 'not responding']}, {'event': 'slot', 'timestamp': 1611076993.3594391, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611076993.3594396, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611076993.3744168, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077075.9392588, 'text': '12 Charter Avenue', 'parse_data': {'intent': {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9893942475318909}, 'entities': [{'entity': 'street_address', 'start': 0, 'end': 17, 'confidence_entity': 0.9974198341369629, 'value': '12 Charter Avenue', 'extractor': 'DIETClassifier'}], 'text': '12 Charter Avenue', 'message_id': 'a9a27e45cf964480be3bdcbed1bd9743', 'metadata': {}, 'intent_ranking': [{'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9893942475318909}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 0.00574458809569478}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 0.004524556919932365}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 0.0002398206270299852}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 7.56070512579754e-05}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 1.4768292203370947e-05}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 4.3351465137675405e-06}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 1.5029461337690009e-06}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 4.2538496813904203e-07}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 2.1541801231705904e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'a9a27e45cf964480be3bdcbed1bd9743', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077075.9392757, 'name': 'street_address', 'value': '12 Charter Avenue'}, {'event': 'action', 'timestamp': 1611077076.2064784, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077076.2064824, 'name': 'form_street_address', 'value': '12 Charter Avenue'}, {'event': 'slot', 'timestamp': 1611077076.2064846, 'name': 'street_address', 'value': '12 Charter Avenue'}, {'event': 'slot', 'timestamp': 1611077076.2064853, 'name': 'requested_slot', 'value': 'form_postcode'}, {'event': 'bot', 'timestamp': 1611077076.206486, 'metadata': {'template_name': 'utter_ask_form_postcode'}, 'text': 'Can you please provide your postcode?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077076.223971, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077144.4580288, 'text': 'cv4 8ge', 'parse_data': {'intent': {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9999887943267822}, 'entities': [{'entity': 'postcode', 'start': 0, 'end': 7, 'value': 'cv4 8ge', 'extractor': 'RegexEntityExtractor'}, {'entity': 'postcode', 'start': 0, 'end': 7, 'confidence_entity': 0.9932585954666138, 'value': 'cv4 8ge', 'extractor': 'DIETClassifier'}], 'text': 'cv4 8ge', 'message_id': '511bcbec2a9445b39e4a023c72ae1963', 'metadata': {}, 'intent_ranking': [{'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9999887943267822}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 5.380961283663055e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 4.686170996137662e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 8.325287126353942e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 1.997771477135757e-07}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 1.3462677372899634e-07}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 8.701206155592445e-08}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 1.7341246660862453e-08}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.2134050975685113e-09}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 1.544822936239143e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '511bcbec2a9445b39e4a023c72ae1963', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077144.4580545, 'name': 'postcode', 'value': 'cv4 8ge'}, {'event': 'action', 'timestamp': 1611077144.8691132, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077144.8691173, 'name': 'form_postcode', 'value': 'cv4 8ge'}, {'event': 'slot', 'timestamp': 1611077144.8691194, 'name': 'postcode', 'value': 'cv4 8ge'}, {'event': 'slot', 'timestamp': 1611077144.8691206, 'name': 'district', 'value': 'Coventry'}, {'event': 'slot', 'timestamp': 1611077144.869121, 'name': 'requested_slot', 'value': None}, {'event': 'active_loop', 'timestamp': 1611077144.8691218, 'name': None}, {'event': 'action', 'timestamp': 1611077144.8832457, 'name': 'utter_dispatch', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077144.883251, 'metadata': {'template_name': 'utter_dispatch'}, 'text': 'DISPATCH', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077145.3451653, 'name': 'action_save_service_info', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'action', 'timestamp': 1611077145.636433, 'name': 'action_manage_first_aid', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077145.6364422, 'name': 'first_aid', 'value': None}, {'event': 'action', 'timestamp': 1611077145.9539413, 'name': 'wrapup_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077145.9539447, 'name': 'wrapup_form'}, {'event': 'slot', 'timestamp': 1611077145.9539464, 'name': 'requested_slot', 'value': 'first_aid'}, {'event': 'bot', 'timestamp': 1611077145.9539473, 'metadata': {'template_name': 'utter_ask_first_aid'}, 'text': 'Do you or anyone near you have experience with first aid?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077145.9726381, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077256.8967404, 'text': "I don't", 'parse_data': {'intent': {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.9999552965164185}, 'entities': [], 'text': "I don't", 'message_id': 'a4b0432d59874ca1bcdfbc5bdac36a27', 'metadata': {}, 'intent_ranking': [{'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 0.9999552965164185}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 2.498381581972353e-05}, {'id': 7233656499169438447, 'name': 'answer_unsure', 'confidence': 5.915321253269212e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 3.776275434574927e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 3.22140886055422e-06}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 3.1974432204151526e-06}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 2.956286152766552e-06}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 6.286551865741785e-07}, {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 4.3877051325580396e-08}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 2.9075620133767188e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'a4b0432d59874ca1bcdfbc5bdac36a27', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077256.910882, 'name': 'wrapup_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611077256.910857, 'name': 'first_aid', 'value': "I don't"}]
    paused = False
    followup_action = None
    active_loop = {'name': 'wrapup_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9999887943267822}, 'entities': [{'entity': 'postcode', 'start': 0, 'end': 7, 'value': 'cv4 8ge', 'extractor': 'RegexEntityExtractor'}, {'entity': 'postcode', 'start': 0, 'end': 7, 'confidence_entity': 0.9932585954666138, 'value': 'cv4 8ge', 'extractor': 'DIETClassifier'}], 'text': 'cv4 8ge', 'message_id': '511bcbec2a9445b39e4a023c72ae1963', 'metadata': {}, 'intent_ranking': [{'id': 5226551307405055568, 'name': 'give_location', 'confidence': 0.9999887943267822}, {'id': -9099402352634079023, 'name': 'begin', 'confidence': 5.380961283663055e-06}, {'id': -1156141105315764128, 'name': 'answer_yes', 'confidence': 4.686170996137662e-06}, {'id': -5405258639926235373, 'name': 'start_form', 'confidence': 8.325287126353942e-07}, {'id': -6365552780341888120, 'name': 'give_phone_number', 'confidence': 1.997771477135757e-07}, {'id': -6785299447627191078, 'name': 'answer_no', 'confidence': 1.3462677372899634e-07}, {'id': 1030155890608409962, 'name': 'give_service', 'confidence': 8.701206155592445e-08}, {'id': -497580585952117233, 'name': 'describe_emergency', 'confidence': 1.7341246660862453e-08}, {'id': -4411714991999820073, 'name': 'give_name', 'confidence': 3.2134050975685113e-09}, {'id': -2085630032006135143, 'name': 'describe_victim', 'confidence': 1.544822936239143e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'wrapup_form'

    if (type == "stroke"):
        tracker = Tracker(sender_id, slots_stroke, latest_message, events, paused, followup_action, active_loop, latest_action_name)
    elif (type == "covid"):
        tracker = Tracker(sender_id, slots_covid, latest_message, events, paused, followup_action, active_loop, latest_action_name)
    elif (type == "bleeding"):
        tracker = Tracker(sender_id, slots_bleeding, latest_message, events, paused, followup_action, active_loop, latest_action_name)
    else:
        tracker = Tracker(sender_id, slots_default, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for name
def name_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '63e0c679f21c4ede9e4bd7466364b0f5'
    slots = {'any_injured': 'Yes', 'district': 'Daventry', 'emergency_details': 'stabbing', 'emergency_details_memory': 'stabbing', 'extra_details': None, 'first_aid': 'Yes', 'form_name': 'Jack', 'form_phone_number': None, 'form_postcode': "I'm not sure where I am", 'form_street_address': "I'm not sure where I am", 'is_safe': 'Yes', 'location_description': "I'm near the Daventry park, there's a red house here", 'name': 'Jack', 'phone_number': None, 'postcode': 'Unknown', 'requested_slot': 'form_name', 'service_type': ['police', 'ambulance'], 'service_type_memory': ['police', 'ambulance'], 'street_address': 'Unknown', 'victim_details': 'bleeding', 'victim_details_memory': 'bleeding'}
    latest_message = {'intent': {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.9999772310256958}, 'entities': [{'entity': 'name', 'start': 0, 'end': 4, 'confidence_entity': 0.8670377135276794, 'value': 'Jack', 'extractor': 'DIETClassifier'}], 'text': 'Jack', 'message_id': 'aff48ebfc03b4bf79671fb093c4771d6', 'metadata': {}, 'intent_ranking': [{'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.9999772310256958}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 1.783809238986578e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 4.168482973909704e-06}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 5.060542207502294e-07}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.698156637530701e-07}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 3.1860164284580605e-08}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 1.0456867371999579e-08}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 7.134936197417119e-09}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 3.045171448334827e-09}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 2.8314799394024703e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611077382.9489484, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611077382.948957}, {'event': 'action', 'timestamp': 1611077382.9490037, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611077383.1960106, 'text': '___', 'parse_data': {'intent': {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}, 'intent_ranking': [{'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077383.3297055, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077383.329709, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077383.7315788, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077383.7315862, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077383.7315898, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077383.7315917, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611077383.7315927, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611077384.3851812, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077384.3851845, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611077384.3851862, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077384.3851876, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077384.3851886, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611077384.3851893, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611077384.3851902, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077384.4028354, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077394.7421467, 'text': "police please, i've been stabbed", 'parse_data': {'intent': {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.8041509985923767}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 6, 'confidence_entity': 0.998907208442688, 'value': 'police', 'extractor': 'DIETClassifier'}, {'entity': 'emergency_details', 'start': 25, 'end': 32, 'confidence_entity': 0.9993614554405212, 'value': 'stabbing', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}], 'text': "police please, i've been stabbed", 'message_id': '6000c0196ecd418ba4ee261dda1d3c8b', 'metadata': {}, 'intent_ranking': [{'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.8041509985923767}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.16532395780086517}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.02184775099158287}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0028415180277079344}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.0027274484746158123}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.001090210280381143}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.001030266284942627}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0007519370410591364}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.00014001934323459864}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 9.584162035025656e-05}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '6000c0196ecd418ba4ee261dda1d3c8b', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077394.7421584, 'name': 'emergency_details', 'value': ['stabbing']}, {'event': 'slot', 'timestamp': 1611077394.7421637, 'name': 'service_type', 'value': ['police']}, {'event': 'action', 'timestamp': 1611077395.029486, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077395.0294895, 'name': 'service_type', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077395.0294907, 'name': 'emergency_details', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611077395.0294917, 'name': 'service_type_memory', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077395.0294924, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611077395.0294938, 'name': 'emergency_details_memory', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611077395.0294945, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611077395.0294955, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077395.0294967, 'name': 'requested_slot', 'value': 'is_safe'}, {'event': 'bot', 'timestamp': 1611077395.0294974, 'metadata': {'template_name': 'utter_ask_is_safe'}, 'text': 'Are you currently in a safe location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077395.0475893, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077397.0178037, 'text': 'yeah', 'parse_data': {'intent': {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.999980092048645}, 'entities': [], 'text': 'yeah', 'message_id': '38dbfd2151824da8b1c8f8e05e4386d9', 'metadata': {}, 'intent_ranking': [{'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.999980092048645}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 1.2715197954094037e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 1.831417080211395e-06}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 1.4239022902984289e-06}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 1.3022820439800853e-06}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 9.558825695421547e-07}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 7.380565421044594e-07}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 4.6361816430362524e-07}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 4.09983698546057e-07}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.2576521157825482e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '38dbfd2151824da8b1c8f8e05e4386d9', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077397.3042135, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077397.3042176, 'name': 'is_safe', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077397.3042195, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611077397.3042202, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077397.3220625, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077402.011033, 'text': "i'm bleeding", 'parse_data': {'intent': {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.9997976422309875}, 'entities': [{'entity': 'victim_details', 'start': 4, 'end': 12, 'confidence_entity': 0.9695760607719421, 'value': 'bleeding', 'extractor': 'DIETClassifier'}], 'text': "i'm bleeding", 'message_id': '224b90ebf0e548169faa8caa60304d0e', 'metadata': {}, 'intent_ranking': [{'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.9997976422309875}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 6.46255721221678e-05}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 4.531626109383069e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 2.4956470952020027e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 1.6262329154415056e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.6199359379243106e-05}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 1.326954679825576e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 9.571542250341736e-06}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 8.277123015432153e-06}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 3.847802872769535e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '224b90ebf0e548169faa8caa60304d0e', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077402.011048, 'name': 'victim_details', 'value': ['bleeding']}, {'event': 'action', 'timestamp': 1611077402.2986898, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077402.2986934, 'name': 'victim_details', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077402.298695, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077402.2986963, 'name': 'victim_details_memory', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077402.298697, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611077402.2986977, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077402.3159595, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077408.6566236, 'text': "I'm not sure where I am", 'parse_data': {'intent': {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.9999688863754272}, 'entities': [], 'text': "I'm not sure where I am", 'message_id': 'e2e418ce34ed41e69fc504b61fd693f5', 'metadata': {}, 'intent_ranking': [{'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.9999688863754272}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 1.0576253771432675e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 1.023426102619851e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 3.5286384445498697e-06}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 2.90273669634189e-06}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 1.89559216323687e-06}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.221257207362214e-06}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.523515204051364e-07}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 2.0486730534230446e-07}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 2.0396295496993844e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'e2e418ce34ed41e69fc504b61fd693f5', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077408.941647, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077408.941651, 'name': 'form_street_address', 'value': "I'm not sure where I am"}, {'event': 'slot', 'timestamp': 1611077408.9416528, 'name': 'street_address', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077408.9416537, 'name': 'location_description', 'value': None}, {'event': 'slot', 'timestamp': 1611077408.9416547, 'name': 'postcode', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077408.9416556, 'name': 'form_postcode', 'value': "I'm not sure where I am"}, {'event': 'slot', 'timestamp': 1611077408.9416566, 'name': 'requested_slot', 'value': 'location_description'}, {'event': 'bot', 'timestamp': 1611077408.941657, 'metadata': {'template_name': 'utter_ask_location_description'}, 'text': 'Can you please describe your surroundings? What can you see?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077408.9587998, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077443.3366888, 'text': "I'm near the Daventry park, there's a red house here", 'parse_data': {'intent': {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, 'entities': [{'entity': 'district', 'start': 13, 'end': 21, 'confidence_entity': 0.9982333183288574, 'value': 'Daventry', 'extractor': 'DIETClassifier'}], 'text': "I'm near the Daventry park, there's a red house here", 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}, 'intent_ranking': [{'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.015673577785491943}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.010614289902150631}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.006183353252708912}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0006412618677131832}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.000384430488338694}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 5.015307760913856e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 4.150867243879475e-05}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 2.081744241877459e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.7976697058184072e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077443.3367, 'name': 'district', 'value': 'Daventry'}, {'event': 'action', 'timestamp': 1611077443.6067204, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077443.6067243, 'name': 'location_description', 'value': "I'm near the Daventry park, there's a red house here"}, {'event': 'slot', 'timestamp': 1611077443.6067262, 'name': 'requested_slot', 'value': None}, {'event': 'active_loop', 'timestamp': 1611077443.6067271, 'name': None}, {'event': 'action', 'timestamp': 1611077443.620144, 'name': 'utter_dispatch', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077443.6201477, 'metadata': {'template_name': 'utter_dispatch'}, 'text': 'DISPATCH', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077444.6306937, 'name': 'action_save_service_info', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'action', 'timestamp': 1611077444.9237683, 'name': 'action_manage_first_aid', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077444.9237754, 'name': 'first_aid', 'value': None}, {'event': 'action', 'timestamp': 1611077445.2502353, 'name': 'wrapup_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077445.2502387, 'name': 'wrapup_form'}, {'event': 'slot', 'timestamp': 1611077445.2502406, 'name': 'requested_slot', 'value': 'first_aid'}, {'event': 'bot', 'timestamp': 1611077445.2502415, 'metadata': {'template_name': 'utter_ask_first_aid'}, 'text': 'Do you or anyone near you have experience with first aid?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077445.2697954, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077513.522965, 'text': 'i do', 'parse_data': {'intent': {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.5757298469543457}, 'entities': [], 'text': 'i do', 'message_id': '7f66b1bce85447f2b9599a0705f2a982', 'metadata': {}, 'intent_ranking': [{'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.5757298469543457}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.31206002831459045}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.08798687160015106}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.009015415795147419}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.007178752217441797}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.002530154539272189}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.002192782936617732}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.001468525966629386}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.0012177034514024854}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.0006200069910846651}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '7f66b1bce85447f2b9599a0705f2a982', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077513.8394153, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077513.83942, 'text': 'Okay, if you feel you can help the situation, please do', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'bot', 'timestamp': 1611077513.8394215, 'text': 'Here is a useful link that I found that can help:', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'bot', 'timestamp': 1611077513.8394222, 'text': "https://www.redcross.org.uk/first-aid/learn-first-aid/bleeding-heavily#:~:text=Put%20pressure%20on%20the%20wound,clot%20and%20stop%20the%20bleeding.&text=If%20you%20can't%20call,someone%20else%20to%20do%20it.", 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077513.8394227, 'name': 'first_aid', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077513.8394258, 'name': 'requested_slot', 'value': 'form_name'}, {'event': 'bot', 'timestamp': 1611077513.839427, 'metadata': {'template_name': 'utter_ask_form_name'}, 'text': 'Can you tell us your name?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077513.8568194, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077516.613248, 'text': 'Jack', 'parse_data': {'intent': {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.9999772310256958}, 'entities': [{'entity': 'name', 'start': 0, 'end': 4, 'confidence_entity': 0.8670377135276794, 'value': 'Jack', 'extractor': 'DIETClassifier'}], 'text': 'Jack', 'message_id': 'aff48ebfc03b4bf79671fb093c4771d6', 'metadata': {}, 'intent_ranking': [{'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.9999772310256958}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 1.783809238986578e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 4.168482973909704e-06}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 5.060542207502294e-07}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.698156637530701e-07}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 3.1860164284580605e-08}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 1.0456867371999579e-08}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 7.134936197417119e-09}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 3.045171448334827e-09}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 2.8314799394024703e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'aff48ebfc03b4bf79671fb093c4771d6', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077516.613262, 'name': 'name', 'value': 'Jack'}, {'event': 'action', 'timestamp': 1611077516.6279955, 'name': 'wrapup_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611077516.6279747, 'name': 'name', 'value': 'Jack'}, {'event': 'slot', 'timestamp': 1611077516.6279762, 'name': 'form_name', 'value': 'Jack'}]
    paused = False
    followup_action = None
    active_loop = {'name': 'wrapup_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, 'entities': [{'entity': 'district', 'start': 13, 'end': 21, 'confidence_entity': 0.9982333183288574, 'value': 'Daventry', 'extractor': 'DIETClassifier'}], 'text': "I'm near the Daventry park, there's a red house here", 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}, 'intent_ranking': [{'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.015673577785491943}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.010614289902150631}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.006183353252708912}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0006412618677131832}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.000384430488338694}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 5.015307760913856e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 4.150867243879475e-05}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 2.081744241877459e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.7976697058184072e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'wrapup_form'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for phone number
def number_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '63e0c679f21c4ede9e4bd7466364b0f5'
    slots = {'any_injured': 'Yes', 'district': 'Daventry', 'emergency_details': 'stabbing', 'emergency_details_memory': 'stabbing', 'extra_details': None, 'first_aid': 'Yes', 'form_name': 'Jack', 'form_phone_number': "it's 07882 332110", 'form_postcode': "I'm not sure where I am", 'form_street_address': "I'm not sure where I am", 'is_safe': 'Yes', 'location_description': "I'm near the Daventry park, there's a red house here", 'name': 'Jack', 'phone_number': ['07882 332110', '07882 332110'], 'postcode': 'Unknown', 'requested_slot': 'form_phone_number', 'service_type': ['police', 'ambulance'], 'service_type_memory': ['police', 'ambulance'], 'street_address': 'Unknown', 'victim_details': 'bleeding', 'victim_details_memory': 'bleeding'}
    latest_message = {'intent': {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.9999235272407532}, 'entities': [{'entity': 'phone_number', 'start': 5, 'end': 17, 'value': '07882 332110', 'extractor': 'RegexEntityExtractor'}, {'entity': 'phone_number', 'start': 5, 'end': 17, 'confidence_entity': 0.7509421706199646, 'value': '07882 332110', 'extractor': 'DIETClassifier'}], 'text': "it's 07882 332110", 'message_id': '9d86865cf09d4d29b1b786bcac5dcab8', 'metadata': {}, 'intent_ranking': [{'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.9999235272407532}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 5.614772453554906e-05}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 1.5318857549573295e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.8911547385869198e-06}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 1.5832987401154242e-06}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 1.1721468808900681e-06}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 2.1506970426798944e-07}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 5.239553146907383e-08}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 4.6883723570090297e-08}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.067743170603876e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611077382.9489484, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611077382.948957}, {'event': 'action', 'timestamp': 1611077382.9490037, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611077383.1960106, 'text': '___', 'parse_data': {'intent': {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}, 'intent_ranking': [{'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077383.3297055, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077383.329709, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077383.7315788, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077383.7315862, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077383.7315898, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077383.7315917, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611077383.7315927, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611077384.3851812, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077384.3851845, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611077384.3851862, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077384.3851876, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077384.3851886, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611077384.3851893, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611077384.3851902, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077384.4028354, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077394.7421467, 'text': "police please, i've been stabbed", 'parse_data': {'intent': {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.8041509985923767}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 6, 'confidence_entity': 0.998907208442688, 'value': 'police', 'extractor': 'DIETClassifier'}, {'entity': 'emergency_details', 'start': 25, 'end': 32, 'confidence_entity': 0.9993614554405212, 'value': 'stabbing', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}], 'text': "police please, i've been stabbed", 'message_id': '6000c0196ecd418ba4ee261dda1d3c8b', 'metadata': {}, 'intent_ranking': [{'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.8041509985923767}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.16532395780086517}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.02184775099158287}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0028415180277079344}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.0027274484746158123}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.001090210280381143}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.001030266284942627}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0007519370410591364}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.00014001934323459864}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 9.584162035025656e-05}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '6000c0196ecd418ba4ee261dda1d3c8b', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077394.7421584, 'name': 'emergency_details', 'value': ['stabbing']}, {'event': 'slot', 'timestamp': 1611077394.7421637, 'name': 'service_type', 'value': ['police']}, {'event': 'action', 'timestamp': 1611077395.029486, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077395.0294895, 'name': 'service_type', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077395.0294907, 'name': 'emergency_details', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611077395.0294917, 'name': 'service_type_memory', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077395.0294924, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611077395.0294938, 'name': 'emergency_details_memory', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611077395.0294945, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611077395.0294955, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077395.0294967, 'name': 'requested_slot', 'value': 'is_safe'}, {'event': 'bot', 'timestamp': 1611077395.0294974, 'metadata': {'template_name': 'utter_ask_is_safe'}, 'text': 'Are you currently in a safe location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077395.0475893, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077397.0178037, 'text': 'yeah', 'parse_data': {'intent': {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.999980092048645}, 'entities': [], 'text': 'yeah', 'message_id': '38dbfd2151824da8b1c8f8e05e4386d9', 'metadata': {}, 'intent_ranking': [{'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.999980092048645}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 1.2715197954094037e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 1.831417080211395e-06}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 1.4239022902984289e-06}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 1.3022820439800853e-06}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 9.558825695421547e-07}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 7.380565421044594e-07}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 4.6361816430362524e-07}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 4.09983698546057e-07}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.2576521157825482e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '38dbfd2151824da8b1c8f8e05e4386d9', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077397.3042135, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077397.3042176, 'name': 'is_safe', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077397.3042195, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611077397.3042202, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077397.3220625, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077402.011033, 'text': "i'm bleeding", 'parse_data': {'intent': {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.9997976422309875}, 'entities': [{'entity': 'victim_details', 'start': 4, 'end': 12, 'confidence_entity': 0.9695760607719421, 'value': 'bleeding', 'extractor': 'DIETClassifier'}], 'text': "i'm bleeding", 'message_id': '224b90ebf0e548169faa8caa60304d0e', 'metadata': {}, 'intent_ranking': [{'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.9997976422309875}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 6.46255721221678e-05}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 4.531626109383069e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 2.4956470952020027e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 1.6262329154415056e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.6199359379243106e-05}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 1.326954679825576e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 9.571542250341736e-06}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 8.277123015432153e-06}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 3.847802872769535e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '224b90ebf0e548169faa8caa60304d0e', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077402.011048, 'name': 'victim_details', 'value': ['bleeding']}, {'event': 'action', 'timestamp': 1611077402.2986898, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077402.2986934, 'name': 'victim_details', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077402.298695, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077402.2986963, 'name': 'victim_details_memory', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077402.298697, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611077402.2986977, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077402.3159595, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077408.6566236, 'text': "I'm not sure where I am", 'parse_data': {'intent': {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.9999688863754272}, 'entities': [], 'text': "I'm not sure where I am", 'message_id': 'e2e418ce34ed41e69fc504b61fd693f5', 'metadata': {}, 'intent_ranking': [{'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.9999688863754272}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 1.0576253771432675e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 1.023426102619851e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 3.5286384445498697e-06}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 2.90273669634189e-06}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 1.89559216323687e-06}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.221257207362214e-06}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.523515204051364e-07}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 2.0486730534230446e-07}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 2.0396295496993844e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'e2e418ce34ed41e69fc504b61fd693f5', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077408.941647, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077408.941651, 'name': 'form_street_address', 'value': "I'm not sure where I am"}, {'event': 'slot', 'timestamp': 1611077408.9416528, 'name': 'street_address', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077408.9416537, 'name': 'location_description', 'value': None}, {'event': 'slot', 'timestamp': 1611077408.9416547, 'name': 'postcode', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077408.9416556, 'name': 'form_postcode', 'value': "I'm not sure where I am"}, {'event': 'slot', 'timestamp': 1611077408.9416566, 'name': 'requested_slot', 'value': 'location_description'}, {'event': 'bot', 'timestamp': 1611077408.941657, 'metadata': {'template_name': 'utter_ask_location_description'}, 'text': 'Can you please describe your surroundings? What can you see?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077408.9587998, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077443.3366888, 'text': "I'm near the Daventry park, there's a red house here", 'parse_data': {'intent': {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, 'entities': [{'entity': 'district', 'start': 13, 'end': 21, 'confidence_entity': 0.9982333183288574, 'value': 'Daventry', 'extractor': 'DIETClassifier'}], 'text': "I'm near the Daventry park, there's a red house here", 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}, 'intent_ranking': [{'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.015673577785491943}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.010614289902150631}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.006183353252708912}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0006412618677131832}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.000384430488338694}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 5.015307760913856e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 4.150867243879475e-05}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 2.081744241877459e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.7976697058184072e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077443.3367, 'name': 'district', 'value': 'Daventry'}, {'event': 'action', 'timestamp': 1611077443.6067204, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077443.6067243, 'name': 'location_description', 'value': "I'm near the Daventry park, there's a red house here"}, {'event': 'slot', 'timestamp': 1611077443.6067262, 'name': 'requested_slot', 'value': None}, {'event': 'active_loop', 'timestamp': 1611077443.6067271, 'name': None}, {'event': 'action', 'timestamp': 1611077443.620144, 'name': 'utter_dispatch', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077443.6201477, 'metadata': {'template_name': 'utter_dispatch'}, 'text': 'DISPATCH', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077444.6306937, 'name': 'action_save_service_info', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'action', 'timestamp': 1611077444.9237683, 'name': 'action_manage_first_aid', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077444.9237754, 'name': 'first_aid', 'value': None}, {'event': 'action', 'timestamp': 1611077445.2502353, 'name': 'wrapup_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077445.2502387, 'name': 'wrapup_form'}, {'event': 'slot', 'timestamp': 1611077445.2502406, 'name': 'requested_slot', 'value': 'first_aid'}, {'event': 'bot', 'timestamp': 1611077445.2502415, 'metadata': {'template_name': 'utter_ask_first_aid'}, 'text': 'Do you or anyone near you have experience with first aid?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077445.2697954, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077513.522965, 'text': 'i do', 'parse_data': {'intent': {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.5757298469543457}, 'entities': [], 'text': 'i do', 'message_id': '7f66b1bce85447f2b9599a0705f2a982', 'metadata': {}, 'intent_ranking': [{'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.5757298469543457}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.31206002831459045}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.08798687160015106}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.009015415795147419}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.007178752217441797}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.002530154539272189}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.002192782936617732}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.001468525966629386}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.0012177034514024854}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.0006200069910846651}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '7f66b1bce85447f2b9599a0705f2a982', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077513.8394153, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077513.83942, 'text': 'Okay, if you feel you can help the situation, please do', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'bot', 'timestamp': 1611077513.8394215, 'text': 'Here is a useful link that I found that can help:', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'bot', 'timestamp': 1611077513.8394222, 'text': "https://www.redcross.org.uk/first-aid/learn-first-aid/bleeding-heavily#:~:text=Put%20pressure%20on%20the%20wound,clot%20and%20stop%20the%20bleeding.&text=If%20you%20can't%20call,someone%20else%20to%20do%20it.", 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077513.8394227, 'name': 'first_aid', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077513.8394258, 'name': 'requested_slot', 'value': 'form_name'}, {'event': 'bot', 'timestamp': 1611077513.839427, 'metadata': {'template_name': 'utter_ask_form_name'}, 'text': 'Can you tell us your name?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077513.8568194, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077516.613248, 'text': 'Jack', 'parse_data': {'intent': {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.9999772310256958}, 'entities': [{'entity': 'name', 'start': 0, 'end': 4, 'confidence_entity': 0.8670377135276794, 'value': 'Jack', 'extractor': 'DIETClassifier'}], 'text': 'Jack', 'message_id': 'aff48ebfc03b4bf79671fb093c4771d6', 'metadata': {}, 'intent_ranking': [{'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.9999772310256958}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 1.783809238986578e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 4.168482973909704e-06}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 5.060542207502294e-07}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.698156637530701e-07}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 3.1860164284580605e-08}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 1.0456867371999579e-08}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 7.134936197417119e-09}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 3.045171448334827e-09}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 2.8314799394024703e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'aff48ebfc03b4bf79671fb093c4771d6', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077516.613262, 'name': 'name', 'value': 'Jack'}, {'event': 'action', 'timestamp': 1611077516.9392586, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077516.9392622, 'name': 'form_name', 'value': 'Jack'}, {'event': 'slot', 'timestamp': 1611077516.939264, 'name': 'name', 'value': 'Jack'}, {'event': 'slot', 'timestamp': 1611077516.939265, 'name': 'requested_slot', 'value': 'form_phone_number'}, {'event': 'bot', 'timestamp': 1611077516.9392657, 'metadata': {'template_name': 'utter_ask_form_phone_number'}, 'text': 'Can you please provide your phone number should we need to contact you over the phone?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077516.958809, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077594.6716595, 'text': "it's 07882 332110", 'parse_data': {'intent': {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.9999235272407532}, 'entities': [{'entity': 'phone_number', 'start': 5, 'end': 17, 'value': '07882 332110', 'extractor': 'RegexEntityExtractor'}, {'entity': 'phone_number', 'start': 5, 'end': 17, 'confidence_entity': 0.7509421706199646, 'value': '07882 332110', 'extractor': 'DIETClassifier'}], 'text': "it's 07882 332110", 'message_id': '9d86865cf09d4d29b1b786bcac5dcab8', 'metadata': {}, 'intent_ranking': [{'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.9999235272407532}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 5.614772453554906e-05}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 1.5318857549573295e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.8911547385869198e-06}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 1.5832987401154242e-06}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 1.1721468808900681e-06}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 2.1506970426798944e-07}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 5.239553146907383e-08}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 4.6883723570090297e-08}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.067743170603876e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '9d86865cf09d4d29b1b786bcac5dcab8', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077594.6716752, 'name': 'phone_number', 'value': '07882 332110'}, {'event': 'action', 'timestamp': 1611077594.6885142, 'name': 'wrapup_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611077594.688495, 'name': 'phone_number', 'value': ['07882 332110', '07882 332110']}, {'event': 'slot', 'timestamp': 1611077594.6884964, 'name': 'form_phone_number', 'value': "it's 07882 332110"}]
    paused = False
    followup_action = None
    active_loop = {'name': 'wrapup_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, 'entities': [{'entity': 'district', 'start': 13, 'end': 21, 'confidence_entity': 0.9982333183288574, 'value': 'Daventry', 'extractor': 'DIETClassifier'}], 'text': "I'm near the Daventry park, there's a red house here", 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}, 'intent_ranking': [{'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.015673577785491943}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.010614289902150631}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.006183353252708912}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0006412618677131832}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.000384430488338694}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 5.015307760913856e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 4.150867243879475e-05}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 2.081744241877459e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.7976697058184072e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'wrapup_form'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot ready to ask for extra details
def extra_details_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '63e0c679f21c4ede9e4bd7466364b0f5'
    slots = {'any_injured': 'Yes', 'district': 'Daventry', 'emergency_details': 'stabbing', 'emergency_details_memory': 'stabbing', 'extra_details': "that's all, please hurry", 'first_aid': 'Yes', 'form_name': 'Jack', 'form_phone_number': '07882 332110', 'form_postcode': "I'm not sure where I am", 'form_street_address': "I'm not sure where I am", 'is_safe': 'Yes', 'location_description': "I'm near the Daventry park, there's a red house here", 'name': 'Jack', 'phone_number': '07882 332110', 'postcode': 'Unknown', 'requested_slot': 'extra_details', 'service_type': ['police', 'ambulance'], 'service_type_memory': ['police', 'ambulance'], 'street_address': 'Unknown', 'victim_details': 'bleeding', 'victim_details_memory': 'bleeding'}
    latest_message = {'intent': {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.9978157877922058}, 'entities': [], 'text': "that's all, please hurry", 'message_id': 'f21a9449739e4e5f85b6ad9ec7eac9eb', 'metadata': {}, 'intent_ranking': [{'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.9978157877922058}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.0005820274236612022}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.0005777820479124784}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0004359181912150234}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.0003043747856281698}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.0001797900185920298}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 5.726651943405159e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 3.458251740084961e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 9.783673704077955e-06}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 2.694600652830559e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611077382.9489484, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611077382.948957}, {'event': 'action', 'timestamp': 1611077382.9490037, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611077383.1960106, 'text': '___', 'parse_data': {'intent': {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}, 'intent_ranking': [{'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'be8983239b31444ead5ba87d58386267', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077383.3297055, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077383.329709, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077383.7315788, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077383.7315862, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077383.7315898, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077383.7315917, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611077383.7315927, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611077384.3851812, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077384.3851845, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611077384.3851862, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611077384.3851876, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611077384.3851886, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611077384.3851893, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611077384.3851902, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077384.4028354, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077394.7421467, 'text': "police please, i've been stabbed", 'parse_data': {'intent': {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.8041509985923767}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 6, 'confidence_entity': 0.998907208442688, 'value': 'police', 'extractor': 'DIETClassifier'}, {'entity': 'emergency_details', 'start': 25, 'end': 32, 'confidence_entity': 0.9993614554405212, 'value': 'stabbing', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}], 'text': "police please, i've been stabbed", 'message_id': '6000c0196ecd418ba4ee261dda1d3c8b', 'metadata': {}, 'intent_ranking': [{'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.8041509985923767}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.16532395780086517}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.02184775099158287}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0028415180277079344}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.0027274484746158123}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.001090210280381143}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.001030266284942627}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.0007519370410591364}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.00014001934323459864}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 9.584162035025656e-05}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '6000c0196ecd418ba4ee261dda1d3c8b', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077394.7421584, 'name': 'emergency_details', 'value': ['stabbing']}, {'event': 'slot', 'timestamp': 1611077394.7421637, 'name': 'service_type', 'value': ['police']}, {'event': 'action', 'timestamp': 1611077395.029486, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077395.0294895, 'name': 'service_type', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077395.0294907, 'name': 'emergency_details', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611077395.0294917, 'name': 'service_type_memory', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611077395.0294924, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611077395.0294938, 'name': 'emergency_details_memory', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611077395.0294945, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611077395.0294955, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077395.0294967, 'name': 'requested_slot', 'value': 'is_safe'}, {'event': 'bot', 'timestamp': 1611077395.0294974, 'metadata': {'template_name': 'utter_ask_is_safe'}, 'text': 'Are you currently in a safe location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077395.0475893, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077397.0178037, 'text': 'yeah', 'parse_data': {'intent': {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.999980092048645}, 'entities': [], 'text': 'yeah', 'message_id': '38dbfd2151824da8b1c8f8e05e4386d9', 'metadata': {}, 'intent_ranking': [{'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.999980092048645}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 1.2715197954094037e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 1.831417080211395e-06}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 1.4239022902984289e-06}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 1.3022820439800853e-06}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 9.558825695421547e-07}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 7.380565421044594e-07}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 4.6361816430362524e-07}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 4.09983698546057e-07}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.2576521157825482e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '38dbfd2151824da8b1c8f8e05e4386d9', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077397.3042135, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077397.3042176, 'name': 'is_safe', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077397.3042195, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611077397.3042202, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077397.3220625, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077402.011033, 'text': "i'm bleeding", 'parse_data': {'intent': {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.9997976422309875}, 'entities': [{'entity': 'victim_details', 'start': 4, 'end': 12, 'confidence_entity': 0.9695760607719421, 'value': 'bleeding', 'extractor': 'DIETClassifier'}], 'text': "i'm bleeding", 'message_id': '224b90ebf0e548169faa8caa60304d0e', 'metadata': {}, 'intent_ranking': [{'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.9997976422309875}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 6.46255721221678e-05}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 4.531626109383069e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 2.4956470952020027e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 1.6262329154415056e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.6199359379243106e-05}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 1.326954679825576e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 9.571542250341736e-06}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 8.277123015432153e-06}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 3.847802872769535e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '224b90ebf0e548169faa8caa60304d0e', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077402.011048, 'name': 'victim_details', 'value': ['bleeding']}, {'event': 'action', 'timestamp': 1611077402.2986898, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077402.2986934, 'name': 'victim_details', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077402.298695, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077402.2986963, 'name': 'victim_details_memory', 'value': 'bleeding'}, {'event': 'slot', 'timestamp': 1611077402.298697, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611077402.2986977, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077402.3159595, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077408.6566236, 'text': "I'm not sure where I am", 'parse_data': {'intent': {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.9999688863754272}, 'entities': [], 'text': "I'm not sure where I am", 'message_id': 'e2e418ce34ed41e69fc504b61fd693f5', 'metadata': {}, 'intent_ranking': [{'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.9999688863754272}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 1.0576253771432675e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 1.023426102619851e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 3.5286384445498697e-06}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 2.90273669634189e-06}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 1.89559216323687e-06}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.221257207362214e-06}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.523515204051364e-07}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 2.0486730534230446e-07}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 2.0396295496993844e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'e2e418ce34ed41e69fc504b61fd693f5', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077408.941647, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077408.941651, 'name': 'form_street_address', 'value': "I'm not sure where I am"}, {'event': 'slot', 'timestamp': 1611077408.9416528, 'name': 'street_address', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077408.9416537, 'name': 'location_description', 'value': None}, {'event': 'slot', 'timestamp': 1611077408.9416547, 'name': 'postcode', 'value': 'Unknown'}, {'event': 'slot', 'timestamp': 1611077408.9416556, 'name': 'form_postcode', 'value': "I'm not sure where I am"}, {'event': 'slot', 'timestamp': 1611077408.9416566, 'name': 'requested_slot', 'value': 'location_description'}, {'event': 'bot', 'timestamp': 1611077408.941657, 'metadata': {'template_name': 'utter_ask_location_description'}, 'text': 'Can you please describe your surroundings? What can you see?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077408.9587998, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077443.3366888, 'text': "I'm near the Daventry park, there's a red house here", 'parse_data': {'intent': {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, 'entities': [{'entity': 'district', 'start': 13, 'end': 21, 'confidence_entity': 0.9982333183288574, 'value': 'Daventry', 'extractor': 'DIETClassifier'}], 'text': "I'm near the Daventry park, there's a red house here", 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}, 'intent_ranking': [{'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.015673577785491943}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.010614289902150631}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.006183353252708912}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0006412618677131832}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.000384430488338694}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 5.015307760913856e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 4.150867243879475e-05}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 2.081744241877459e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.7976697058184072e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077443.3367, 'name': 'district', 'value': 'Daventry'}, {'event': 'action', 'timestamp': 1611077443.6067204, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077443.6067243, 'name': 'location_description', 'value': "I'm near the Daventry park, there's a red house here"}, {'event': 'slot', 'timestamp': 1611077443.6067262, 'name': 'requested_slot', 'value': None}, {'event': 'active_loop', 'timestamp': 1611077443.6067271, 'name': None}, {'event': 'action', 'timestamp': 1611077443.620144, 'name': 'utter_dispatch', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077443.6201477, 'metadata': {'template_name': 'utter_dispatch'}, 'text': 'DISPATCH', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077444.6306937, 'name': 'action_save_service_info', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'action', 'timestamp': 1611077444.9237683, 'name': 'action_manage_first_aid', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077444.9237754, 'name': 'first_aid', 'value': None}, {'event': 'action', 'timestamp': 1611077445.2502353, 'name': 'wrapup_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611077445.2502387, 'name': 'wrapup_form'}, {'event': 'slot', 'timestamp': 1611077445.2502406, 'name': 'requested_slot', 'value': 'first_aid'}, {'event': 'bot', 'timestamp': 1611077445.2502415, 'metadata': {'template_name': 'utter_ask_first_aid'}, 'text': 'Do you or anyone near you have experience with first aid?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077445.2697954, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077513.522965, 'text': 'i do', 'parse_data': {'intent': {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.5757298469543457}, 'entities': [], 'text': 'i do', 'message_id': '7f66b1bce85447f2b9599a0705f2a982', 'metadata': {}, 'intent_ranking': [{'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.5757298469543457}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.31206002831459045}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.08798687160015106}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.009015415795147419}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.007178752217441797}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.002530154539272189}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.002192782936617732}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.001468525966629386}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.0012177034514024854}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.0006200069910846651}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '7f66b1bce85447f2b9599a0705f2a982', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077513.8394153, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611077513.83942, 'text': 'Okay, if you feel you can help the situation, please do', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'bot', 'timestamp': 1611077513.8394215, 'text': 'Here is a useful link that I found that can help:', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'bot', 'timestamp': 1611077513.8394222, 'text': "https://www.redcross.org.uk/first-aid/learn-first-aid/bleeding-heavily#:~:text=Put%20pressure%20on%20the%20wound,clot%20and%20stop%20the%20bleeding.&text=If%20you%20can't%20call,someone%20else%20to%20do%20it.", 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077513.8394227, 'name': 'first_aid', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611077513.8394258, 'name': 'requested_slot', 'value': 'form_name'}, {'event': 'bot', 'timestamp': 1611077513.839427, 'metadata': {'template_name': 'utter_ask_form_name'}, 'text': 'Can you tell us your name?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077513.8568194, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077516.613248, 'text': 'Jack', 'parse_data': {'intent': {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.9999772310256958}, 'entities': [{'entity': 'name', 'start': 0, 'end': 4, 'confidence_entity': 0.8670377135276794, 'value': 'Jack', 'extractor': 'DIETClassifier'}], 'text': 'Jack', 'message_id': 'aff48ebfc03b4bf79671fb093c4771d6', 'metadata': {}, 'intent_ranking': [{'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.9999772310256958}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 1.783809238986578e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 4.168482973909704e-06}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 5.060542207502294e-07}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.698156637530701e-07}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 3.1860164284580605e-08}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 1.0456867371999579e-08}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 7.134936197417119e-09}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 3.045171448334827e-09}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 2.8314799394024703e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'aff48ebfc03b4bf79671fb093c4771d6', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077516.613262, 'name': 'name', 'value': 'Jack'}, {'event': 'action', 'timestamp': 1611077516.9392586, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077516.9392622, 'name': 'form_name', 'value': 'Jack'}, {'event': 'slot', 'timestamp': 1611077516.939264, 'name': 'name', 'value': 'Jack'}, {'event': 'slot', 'timestamp': 1611077516.939265, 'name': 'requested_slot', 'value': 'form_phone_number'}, {'event': 'bot', 'timestamp': 1611077516.9392657, 'metadata': {'template_name': 'utter_ask_form_phone_number'}, 'text': 'Can you please provide your phone number should we need to contact you over the phone?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077516.958809, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077594.6716595, 'text': "it's 07882 332110", 'parse_data': {'intent': {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.9999235272407532}, 'entities': [{'entity': 'phone_number', 'start': 5, 'end': 17, 'value': '07882 332110', 'extractor': 'RegexEntityExtractor'}, {'entity': 'phone_number', 'start': 5, 'end': 17, 'confidence_entity': 0.7509421706199646, 'value': '07882 332110', 'extractor': 'DIETClassifier'}], 'text': "it's 07882 332110", 'message_id': '9d86865cf09d4d29b1b786bcac5dcab8', 'metadata': {}, 'intent_ranking': [{'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.9999235272407532}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 5.614772453554906e-05}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 1.5318857549573295e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 1.8911547385869198e-06}, {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 1.5832987401154242e-06}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 1.1721468808900681e-06}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 2.1506970426798944e-07}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 5.239553146907383e-08}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 4.6883723570090297e-08}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.067743170603876e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '9d86865cf09d4d29b1b786bcac5dcab8', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611077594.6716752, 'name': 'phone_number', 'value': '07882 332110'}, {'event': 'action', 'timestamp': 1611077595.015855, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611077595.015859, 'name': 'form_phone_number', 'value': '07882 332110'}, {'event': 'slot', 'timestamp': 1611077595.0158713, 'name': 'phone_number', 'value': '07882 332110'}, {'event': 'slot', 'timestamp': 1611077595.0158732, 'name': 'requested_slot', 'value': 'extra_details'}, {'event': 'bot', 'timestamp': 1611077595.0158744, 'metadata': {'template_name': 'utter_ask_extra_details'}, 'text': 'Okay, is there anything else we should know before we get there?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611077595.034413, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611077661.9701068, 'text': "that's all, please hurry", 'parse_data': {'intent': {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.9978157877922058}, 'entities': [], 'text': "that's all, please hurry", 'message_id': 'f21a9449739e4e5f85b6ad9ec7eac9eb', 'metadata': {}, 'intent_ranking': [{'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 0.9978157877922058}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 0.0005820274236612022}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 0.0005777820479124784}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0004359181912150234}, {'id': 4985633880421538635, 'name': 'give_name', 'confidence': 0.0003043747856281698}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 0.0001797900185920298}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 5.726651943405159e-05}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 3.458251740084961e-05}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 9.783673704077955e-06}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 2.694600652830559e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'f21a9449739e4e5f85b6ad9ec7eac9eb', 'metadata': {}}, {'event': 'action', 'timestamp': 1611077661.986381, 'name': 'wrapup_form', 'policy': None, 'confidence': None}, {'event': 'slot', 'timestamp': 1611077661.98635, 'name': 'extra_details', 'value': "that's all, please hurry"}]
    paused = False
    followup_action = None
    active_loop = {'name': 'wrapup_form', 'is_interrupted': False, 'rejected': False, 'trigger_message': {'intent': {'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, 'entities': [{'entity': 'district', 'start': 13, 'end': 21, 'confidence_entity': 0.9982333183288574, 'value': 'Daventry', 'extractor': 'DIETClassifier'}], 'text': "I'm near the Daventry park, there's a red house here", 'message_id': '992c7ea0fcee4b1d9da0d4359f311347', 'metadata': {}, 'intent_ranking': [{'id': 6917968447575180742, 'name': 'give_location', 'confidence': 0.9663867950439453}, {'id': -3386665823568514069, 'name': 'describe_emergency', 'confidence': 0.015673577785491943}, {'id': -6186458368039058266, 'name': 'begin', 'confidence': 0.010614289902150631}, {'id': -1626537408517584320, 'name': 'answer_yes', 'confidence': 0.006183353252708912}, {'id': -8147063736500185595, 'name': 'start_form', 'confidence': 0.0006412618677131832}, {'id': -1874569551602523070, 'name': 'give_phone_number', 'confidence': 0.000384430488338694}, {'id': 3642032814732361322, 'name': 'describe_victim', 'confidence': 5.015307760913856e-05}, {'id': -2121470979287030848, 'name': 'give_service', 'confidence': 4.150867243879475e-05}, {'id': 1913274753220460128, 'name': 'answer_unsure', 'confidence': 2.081744241877459e-05}, {'id': -5512652558662572568, 'name': 'answer_no', 'confidence': 3.7976697058184072e-06}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}}
    latest_action_name = 'wrapup_form'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)

# bot who has gathered everthing possible
def full_bot():
    # dispatcher object
    dispatcher = CollectingDispatcher()

    # generate attributes for custom tracker object
    sender_id = '143d510ea2cf4a568fb2ddf8e3c58e8b'
    slots = {'any_injured': 'Yes', 'district': None, 'emergency_details': 'stabbing', 'emergency_details_memory': 'stabbing', 'extra_details': "that's all, thanks", 'first_aid': 'Yes', 'form_name': 'Jack', 'form_phone_number': '07422 981441', 'form_postcode': 'CV4 8GE', 'form_street_address': '12 Charter Avenue', 'is_safe': 'Yes', 'location_description': 'Not Needed', 'name': 'Jack', 'phone_number': '07422 981441', 'postcode': 'CV4 8GE', 'requested_slot': None, 'service_type': ['police', 'ambulance'], 'service_type_memory': ['police', 'ambulance'], 'street_address': '12 Charter Avenue', 'victim_details': ['bleeding', 'unconscious'], 'victim_details_memory': ['bleeding', 'unconscious']}
    latest_message = {'intent': {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 0.99997878074646}, 'entities': [], 'text': "that's all, thanks", 'message_id': 'cc63ccdaee2342f7bf23f480e85114cd', 'metadata': {}, 'intent_ranking': [{'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 0.99997878074646}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 8.094749318843242e-06}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 3.218177425878821e-06}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 3.0338208034663694e-06}, {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 2.858806283256854e-06}, {'id': 3445770045023403561, 'name': 'give_name', 'confidence': 2.6671257273847004e-06}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 7.118642315617763e-07}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 5.134089064995351e-07}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 6.400365748504555e-08}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 1.886183298438482e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}
    events = [{'event': 'action', 'timestamp': 1611073507.0407486, 'name': 'action_session_start', 'policy': None, 'confidence': None}, {'event': 'session_started', 'timestamp': 1611073507.0407612}, {'event': 'action', 'timestamp': 1611073507.0407836, 'name': 'action_listen', 'policy': None, 'confidence': None}, {'event': 'user', 'timestamp': 1611073507.289537, 'text': '___', 'parse_data': {'intent': {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 0.9144748449325562}, 'entities': [], 'text': '___', 'message_id': 'd95230360857498ba34f0541b4623e35', 'metadata': {}, 'intent_ranking': [{'id': 3161910723256611162, 'name': 'start_form', 'confidence': 0.9144748449325562}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 0.05034788325428963}, {'id': 3272318339016593360, 'name': 'give_service', 'confidence': 0.012977206148207188}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 0.006630808115005493}, {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 0.005462380591779947}, {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 0.0027898550033569336}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 0.0025092847645282745}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 0.0021352344192564487}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 0.0015295878984034061}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 0.0011429343139752746}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'd95230360857498ba34f0541b4623e35', 'metadata': {}}, {'event': 'action', 'timestamp': 1611073507.4243255, 'name': 'utter_introduce', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611073507.4243312, 'metadata': {'template_name': 'utter_introduce'}, 'text': 'I am Whitehall, the emergency service chatbot', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073507.8779259, 'name': 'action_init_slots', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073507.877933, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611073507.8779368, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611073507.8779387, 'name': 'first_aid', 'value': 'Not Relevant'}, {'event': 'slot', 'timestamp': 1611073507.8779395, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'action', 'timestamp': 1611073508.462044, 'name': 'service_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611073508.4620469, 'name': 'service_form'}, {'event': 'slot', 'timestamp': 1611073508.462049, 'name': 'location_description', 'value': 'Not Needed'}, {'event': 'slot', 'timestamp': 1611073508.462051, 'name': 'victim_details', 'value': 'No Victim'}, {'event': 'slot', 'timestamp': 1611073508.4620516, 'name': 'is_safe', 'value': 'Irrelevant'}, {'event': 'slot', 'timestamp': 1611073508.4620526, 'name': 'requested_slot', 'value': 'service_type'}, {'event': 'bot', 'timestamp': 1611073508.4620533, 'metadata': {'template_name': 'utter_ask_service_type'}, 'text': 'Can you please provide the emergency service that you require', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073508.4776144, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073515.978445, 'text': 'police please', 'parse_data': {'intent': {'id': 3272318339016593360, 'name': 'give_service', 'confidence': 0.9999970197677612}, 'entities': [{'entity': 'service_type', 'start': 0, 'end': 6, 'confidence_entity': 0.998953104019165, 'value': 'police', 'extractor': 'DIETClassifier'}], 'text': 'police please', 'message_id': '858b73e9ba004c79abce0ed02a291b8c', 'metadata': {}, 'intent_ranking': [{'id': 3272318339016593360, 'name': 'give_service', 'confidence': 0.9999970197677612}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 1.347193915535172e-06}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 5.776074090135808e-07}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 4.418523928961804e-07}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 4.057531555190508e-07}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 1.617241025542171e-07}, {'id': 3445770045023403561, 'name': 'give_name', 'confidence': 2.781541041940727e-08}, {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 3.610499010875401e-09}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 5.00353473931181e-11}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 3.036071047346489e-11}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '858b73e9ba004c79abce0ed02a291b8c', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611073515.978459, 'name': 'service_type', 'value': ['police']}, {'event': 'action', 'timestamp': 1611073516.2400324, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073516.2400389, 'name': 'service_type', 'value': ['police']}, {'event': 'slot', 'timestamp': 1611073516.2400415, 'name': 'service_type_memory', 'value': ['police']}, {'event': 'slot', 'timestamp': 1611073516.2400434, 'name': 'is_safe', 'value': None}, {'event': 'slot', 'timestamp': 1611073516.2400453, 'name': 'requested_slot', 'value': 'emergency_details'}, {'event': 'bot', 'timestamp': 1611073516.2400463, 'metadata': {'template_name': 'utter_ask_emergency_details'}, 'text': 'Can you please describe the details of your emergency?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073516.2559073, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073520.51814, 'text': 'someone was just stabbed', 'parse_data': {'intent': {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 0.9999916553497314}, 'entities': [{'entity': 'emergency_details', 'start': 17, 'end': 24, 'confidence_entity': 0.9993785619735718, 'value': 'stabbing', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}], 'text': 'someone was just stabbed', 'message_id': 'e52553eed7664328aa455e559b516e4f', 'metadata': {}, 'intent_ranking': [{'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 0.9999916553497314}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 6.3050538301467896e-06}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 8.102124979814107e-07}, {'id': 3445770045023403561, 'name': 'give_name', 'confidence': 4.5840832285648503e-07}, {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 4.0190940353568294e-07}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 1.5398089203699783e-07}, {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 1.5324707192121423e-07}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 2.5107100398713555e-08}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 1.405753291550127e-08}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 2.913873142773582e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'e52553eed7664328aa455e559b516e4f', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611073520.5181518, 'name': 'emergency_details', 'value': ['stabbing']}, {'event': 'action', 'timestamp': 1611073520.768896, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073520.7688997, 'name': 'emergency_details', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611073520.7689013, 'name': 'emergency_details_memory', 'value': 'stabbing'}, {'event': 'slot', 'timestamp': 1611073520.768902, 'name': 'service_type', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611073520.768903, 'name': 'service_type_memory', 'value': ['police', 'ambulance']}, {'event': 'slot', 'timestamp': 1611073520.7689037, 'name': 'victim_details', 'value': None}, {'event': 'slot', 'timestamp': 1611073520.7689044, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611073520.7689052, 'name': 'requested_slot', 'value': 'is_safe'}, {'event': 'bot', 'timestamp': 1611073520.7689056, 'metadata': {'template_name': 'utter_ask_is_safe'}, 'text': 'Are you safe?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073520.7841291, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073523.9242883, 'text': 'we are now, yeah', 'parse_data': {'intent': {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 0.99991375207901}, 'entities': [], 'text': 'we are now, yeah', 'message_id': '97e3070e69c34e508c099f63766ea36f', 'metadata': {}, 'intent_ranking': [{'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 0.99991375207901}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 8.047076698858291e-05}, {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 1.995381808228558e-06}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 6.961740837141406e-07}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 6.687345148748136e-07}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 6.649943316006102e-07}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 5.657874453390832e-07}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 5.273014949125354e-07}, {'id': 3272318339016593360, 'name': 'give_service', 'confidence': 3.682572753405111e-07}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 3.094142186910176e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '97e3070e69c34e508c099f63766ea36f', 'metadata': {}}, {'event': 'action', 'timestamp': 1611073524.177034, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073524.1770375, 'name': 'is_safe', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611073524.1770391, 'name': 'requested_slot', 'value': 'victim_details'}, {'event': 'bot', 'timestamp': 1611073524.1770399, 'metadata': {'template_name': 'utter_ask_victim_details'}, 'text': 'What state is the victim in?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073524.1922276, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073532.4162486, 'text': "they're bleeding and unconscious", 'parse_data': {'intent': {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 0.9999567270278931}, 'entities': [{'entity': 'victim_details', 'start': 8, 'end': 16, 'confidence_entity': 0.974973738193512, 'value': 'bleeding', 'extractor': 'DIETClassifier'}, {'entity': 'victim_details', 'start': 21, 'end': 32, 'confidence_entity': 0.999542236328125, 'value': 'unconscious', 'extractor': 'DIETClassifier'}], 'text': "they're bleeding and unconscious", 'message_id': '6c82c96635ec41738f96c55c37ac8bb5', 'metadata': {}, 'intent_ranking': [{'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 0.9999567270278931}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 2.286659764649812e-05}, {'id': 3272318339016593360, 'name': 'give_service', 'confidence': 4.943023213854758e-06}, {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 4.399401859700447e-06}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 4.280323537386721e-06}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 2.6994732706953073e-06}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 2.631702045619022e-06}, {'id': 3445770045023403561, 'name': 'give_name', 'confidence': 9.643019893701421e-07}, {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 3.601516027629259e-07}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 1.6332904806404258e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '6c82c96635ec41738f96c55c37ac8bb5', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611073532.4162652, 'name': 'victim_details', 'value': ['bleeding', 'unconscious']}, {'event': 'action', 'timestamp': 1611073532.667039, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073532.6670427, 'name': 'victim_details', 'value': ['bleeding', 'unconscious']}, {'event': 'slot', 'timestamp': 1611073532.6670444, 'name': 'any_injured', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611073532.6670458, 'name': 'victim_details_memory', 'value': ['bleeding', 'unconscious']}, {'event': 'slot', 'timestamp': 1611073532.6670463, 'name': 'requested_slot', 'value': 'form_street_address'}, {'event': 'bot', 'timestamp': 1611073532.6670473, 'metadata': {'template_name': 'utter_ask_form_street_address'}, 'text': 'Can you please provide your location?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073532.6826806, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073540.7754514, 'text': '12 Charter Avenue, CV4 8GE', 'parse_data': {'intent': {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 0.9999955296516418}, 'entities': [{'entity': 'postcode', 'start': 19, 'end': 27, 'value': 'CV4 8GE', 'extractor': 'RegexEntityExtractor'}, {'entity': 'street_address', 'start': 0, 'end': 17, 'confidence_entity': 0.9971007704734802, 'value': '12 Charter Avenue', 'extractor': 'DIETClassifier'}, {'entity': 'postcode', 'start': 19, 'end': 27, 'confidence_entity': 0.9812736511230469, 'value': 'CV4 8GE', 'extractor': 'DIETClassifier'}], 'text': '12 Charter Avenue, CV4 8GE', 'message_id': 'c4e2b41dbcde41dcb8246dde4ab0dafe', 'metadata': {}, 'intent_ranking': [{'id': 6190524398199022216, 'name': 'give_location', 'confidence': 0.9999955296516418}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 2.0798408968403237e-06}, {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 1.7613863292353926e-06}, {'id': 3272318339016593360, 'name': 'give_service', 'confidence': 3.1910573738969106e-07}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 2.533373333335476e-07}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 1.4507095613680576e-07}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 3.01065639085607e-09}, {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 1.1716349002099946e-09}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 5.362314481338615e-10}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 5.071034148151909e-10}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'c4e2b41dbcde41dcb8246dde4ab0dafe', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611073540.7754679, 'name': 'postcode', 'value': 'CV4 8GE'}, {'event': 'slot', 'timestamp': 1611073540.7754705, 'name': 'street_address', 'value': '12 Charter Avenue'}, {'event': 'action', 'timestamp': 1611073541.0290258, 'name': 'service_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073541.0290294, 'name': 'form_street_address', 'value': '12 Charter Avenue'}, {'event': 'slot', 'timestamp': 1611073541.0290308, 'name': 'postcode', 'value': 'CV4 8GE'}, {'event': 'slot', 'timestamp': 1611073541.0290318, 'name': 'street_address', 'value': '12 Charter Avenue'}, {'event': 'slot', 'timestamp': 1611073541.0290325, 'name': 'form_postcode', 'value': 'CV4 8GE'}, {'event': 'slot', 'timestamp': 1611073541.0290332, 'name': 'requested_slot', 'value': None}, {'event': 'active_loop', 'timestamp': 1611073541.0290337, 'name': None}, {'event': 'action', 'timestamp': 1611073541.0418274, 'name': 'utter_dispatch', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611073541.041831, 'metadata': {'template_name': 'utter_dispatch'}, 'text': 'DISPATCH', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073541.4523432, 'name': 'action_save_service_info', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'action', 'timestamp': 1611073541.6948636, 'name': 'action_manage_first_aid', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073541.69487, 'name': 'first_aid', 'value': None}, {'event': 'action', 'timestamp': 1611073541.968678, 'name': 'wrapup_form', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'active_loop', 'timestamp': 1611073541.9686809, 'name': 'wrapup_form'}, {'event': 'slot', 'timestamp': 1611073541.9686832, 'name': 'requested_slot', 'value': 'first_aid'}, {'event': 'bot', 'timestamp': 1611073541.9686844, 'metadata': {'template_name': 'utter_ask_first_aid'}, 'text': 'Do you or anyone near you have experience with first aid?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073541.9860299, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073545.0500774, 'text': 'I do, yeah', 'parse_data': {'intent': {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 0.9999651908874512}, 'entities': [], 'text': 'I do, yeah', 'message_id': 'f350a453781a40a4875c962dfb3e4e56', 'metadata': {}, 'intent_ranking': [{'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 0.9999651908874512}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 1.6421554391854443e-05}, {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 4.72178180643823e-06}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 4.105514108232455e-06}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 3.822794496954884e-06}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 1.9699239146575565e-06}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 1.5720214605607907e-06}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 9.2223058345553e-07}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 8.712597150406509e-07}, {'id': 3272318339016593360, 'name': 'give_service', 'confidence': 4.3805638938465563e-07}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'f350a453781a40a4875c962dfb3e4e56', 'metadata': {}}, {'event': 'action', 'timestamp': 1611073545.3205218, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611073545.320526, 'text': 'Okay, if you feel you can help the situation, please do', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'bot', 'timestamp': 1611073545.3205268, 'text': 'Here is a useful link that I found that can help:', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'bot', 'timestamp': 1611073545.3205273, 'text': "https://www.redcross.org.uk/first-aid/learn-first-aid/bleeding-heavily#:~:text=Put%20pressure%20on%20the%20wound,clot%20and%20stop%20the%20bleeding.&text=If%20you%20can't%20call,someone%20else%20to%20do%20it.", 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}, 'metadata': {}}, {'event': 'slot', 'timestamp': 1611073545.3205276, 'name': 'first_aid', 'value': 'Yes'}, {'event': 'slot', 'timestamp': 1611073545.320529, 'name': 'requested_slot', 'value': 'form_name'}, {'event': 'bot', 'timestamp': 1611073545.3205295, 'metadata': {'template_name': 'utter_ask_form_name'}, 'text': 'Can you please provide us with your name?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073545.337601, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073547.088185, 'text': 'Jack', 'parse_data': {'intent': {'id': 3445770045023403561, 'name': 'give_name', 'confidence': 0.9999772310256958}, 'entities': [{'entity': 'name', 'start': 0, 'end': 4, 'confidence_entity': 0.8670377135276794, 'value': 'Jack', 'extractor': 'DIETClassifier'}], 'text': 'Jack', 'message_id': '497d413b24a648a59a8456c409f7297e', 'metadata': {}, 'intent_ranking': [{'id': 3445770045023403561, 'name': 'give_name', 'confidence': 0.9999772310256958}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 1.783809238986578e-05}, {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 4.168482973909704e-06}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 5.060542207502294e-07}, {'id': 3272318339016593360, 'name': 'give_service', 'confidence': 1.698156637530701e-07}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 3.1860164284580605e-08}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 1.0456867371999579e-08}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 7.134936197417119e-09}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 3.045171448334827e-09}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 2.8314799394024703e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '497d413b24a648a59a8456c409f7297e', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611073547.0882037, 'name': 'name', 'value': 'Jack'}, {'event': 'action', 'timestamp': 1611073547.361391, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073547.3613951, 'name': 'form_name', 'value': 'Jack'}, {'event': 'slot', 'timestamp': 1611073547.3613968, 'name': 'name', 'value': 'Jack'}, {'event': 'slot', 'timestamp': 1611073547.361398, 'name': 'requested_slot', 'value': 'form_phone_number'}, {'event': 'bot', 'timestamp': 1611073547.3613985, 'metadata': {'template_name': 'utter_ask_form_phone_number'}, 'text': 'Can you please provide your phone number should we need to contact you over the phone?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073547.380089, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073552.027439, 'text': '07422 981441', 'parse_data': {'intent': {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 0.9999566674232483}, 'entities': [{'entity': 'phone_number', 'start': 0, 'end': 12, 'value': '07422 981441', 'extractor': 'RegexEntityExtractor'}, {'entity': 'phone_number', 'start': 0, 'end': 12, 'confidence_entity': 0.8959673643112183, 'value': '07422 981441', 'extractor': 'DIETClassifier'}], 'text': '07422 981441', 'message_id': '7b745291c57047c2ba72c6293094183f', 'metadata': {}, 'intent_ranking': [{'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 0.9999566674232483}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 2.7762178433476947e-05}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 1.0818414921232034e-05}, {'id': 3272318339016593360, 'name': 'give_service', 'confidence': 2.400920038780896e-06}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 1.2400163313941448e-06}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 8.940927500589169e-07}, {'id': 3445770045023403561, 'name': 'give_name', 'confidence': 1.5818577026038838e-07}, {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 3.6949153070509055e-08}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 2.3917307245824304e-08}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 1.2089386158820048e-09}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': '7b745291c57047c2ba72c6293094183f', 'metadata': {}}, {'event': 'slot', 'timestamp': 1611073552.0274744, 'name': 'phone_number', 'value': '07422 981441'}, {'event': 'action', 'timestamp': 1611073552.314389, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073552.314395, 'name': 'form_phone_number', 'value': '07422 981441'}, {'event': 'slot', 'timestamp': 1611073552.314397, 'name': 'phone_number', 'value': '07422 981441'}, {'event': 'slot', 'timestamp': 1611073552.3143988, 'name': 'requested_slot', 'value': 'extra_details'}, {'event': 'bot', 'timestamp': 1611073552.3143995, 'metadata': {'template_name': 'utter_ask_extra_details'}, 'text': 'Okay, is there anything else we should know before we get there?', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}, {'event': 'action', 'timestamp': 1611073552.3318934, 'name': 'action_listen', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'user', 'timestamp': 1611073557.1397986, 'text': "that's all, thanks", 'parse_data': {'intent': {'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 0.99997878074646}, 'entities': [], 'text': "that's all, thanks", 'message_id': 'cc63ccdaee2342f7bf23f480e85114cd', 'metadata': {}, 'intent_ranking': [{'id': -8220594479143112940, 'name': 'answer_no', 'confidence': 0.99997878074646}, {'id': -3118991568935309932, 'name': 'begin', 'confidence': 8.094749318843242e-06}, {'id': 3161910723256611162, 'name': 'start_form', 'confidence': 3.218177425878821e-06}, {'id': 7512334756938373296, 'name': 'describe_emergency', 'confidence': 3.0338208034663694e-06}, {'id': 2504186396302603113, 'name': 'answer_yes', 'confidence': 2.858806283256854e-06}, {'id': 3445770045023403561, 'name': 'give_name', 'confidence': 2.6671257273847004e-06}, {'id': 5111993585599473442, 'name': 'describe_victim', 'confidence': 7.118642315617763e-07}, {'id': 1333362824136153624, 'name': 'answer_unsure', 'confidence': 5.134089064995351e-07}, {'id': -4297263408566273598, 'name': 'give_phone_number', 'confidence': 6.400365748504555e-08}, {'id': 6190524398199022216, 'name': 'give_location', 'confidence': 1.886183298438482e-08}], 'response_selector': {'all_retrieval_intents': [], 'default': {'response': {'id': None, 'response_templates': None, 'confidence': 0.0, 'intent_response_key': None, 'template_name': 'utter_None'}, 'ranking': []}}}, 'input_channel': 'cmdline', 'message_id': 'cc63ccdaee2342f7bf23f480e85114cd', 'metadata': {}}, {'event': 'action', 'timestamp': 1611073557.420566, 'name': 'wrapup_form', 'policy': 'policy_2_RulePolicy', 'confidence': 1.0}, {'event': 'slot', 'timestamp': 1611073557.4205701, 'name': 'extra_details', 'value': "that's all, thanks"}, {'event': 'slot', 'timestamp': 1611073557.4205713, 'name': 'requested_slot', 'value': None}, {'event': 'active_loop', 'timestamp': 1611073557.420572, 'name': None}, {'event': 'action', 'timestamp': 1611073557.8368592, 'name': 'action_save_wrapup_info', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'action', 'timestamp': 1611073557.8517566, 'name': 'utter_finish', 'policy': 'policy_0_MemoizationPolicy', 'confidence': 1.0}, {'event': 'bot', 'timestamp': 1611073557.8517618, 'metadata': {'template_name': 'utter_finish'}, 'text': 'Help is on the way, please stay safe and wait for the professionals to arrive', 'data': {'elements': None, 'quick_replies': None, 'buttons': None, 'attachment': None, 'image': None, 'custom': None}}]
    paused = False
    followup_action = None
    active_loop = {}
    latest_action_name = 'utter_finish'

    # tracker object
    tracker = Tracker(sender_id, slots, latest_message, events, paused, followup_action, active_loop, latest_action_name)

    # domain object
    domain = {'config': {'store_entities_as_slots': True}, 'session_config': {'session_expiration_time': 60, 'carry_over_slots_to_new_session': True}, 'intents': [{'start_form': {'use_entities': True}}, {'describe_emergency': {'use_entities': True}}, {'give_name': {'use_entities': True}}, {'answer_no': {'use_entities': True}}, {'give_location': {'use_entities': True}}, {'answer_unsure': {'use_entities': True}}, {'answer_yes': {'use_entities': True}}, {'give_service': {'use_entities': True}}, {'describe_victim': {'use_entities': True}}, {'give_phone_number': {'use_entities': True}}, {'nlu_fallback': {'use_entities': True}}, {'give_form_street_address': {'use_entities': True}}, {'stop': {'use_entities': True}}, {'begin': {'use_entities': True}}], 'entities': ['district', 'emergency_detail', 'emergency_details', 'name', 'phone_number', 'postcode', 'service_type', 'street_address', 'victim_details'], 'slots': {'any_injured': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'district': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'emergency_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'extra_details': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'first_aid': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'form_street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'is_safe': {'type': 'rasa.shared.core.slots.BooleanSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'location_description': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'name': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'phone_number': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'postcode': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'requested_slot': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'service_type': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'service_type_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}, 'street_address': {'type': 'rasa.shared.core.slots.TextSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': True}, 'victim_details_memory': {'type': 'rasa.shared.core.slots.ListSlot', 'initial_value': None, 'auto_fill': True, 'influence_conversation': False}}, 'responses': {'utter_introduce': [{'text': 'I am Whitehall, the emergency service chatbot'}], 'utter_ask_service_type': [{'text': 'Can you please provide the emergency service that you require'}], 'utter_ask_form_postcode': [{'text': 'Can you please provide your postcode?'}], 'utter_ask_form_street_address': [{'text': 'Can you please provide your location?'}], 'utter_ask_street_address': [{'text': 'Can you please provide the street address?'}], 'utter_ask_location_description': [{'text': 'Can you please describe your surroundings? What can you see?'}], 'utter_ask_emergency_details': [{'text': 'Can you please describe the details of your emergency?'}, {'text': 'What is the nature of your emergency?'}], 'utter_ask_is_safe': [{'text': 'Are you safe?'}, {'text': 'Are you currently in a safe location?'}], 'utter_ask_victim_details': [{'text': 'What state is the victim in?'}], 'utter_ask_any_injured': [{'text': 'Is anyone injured?'}], 'utter_dispatch': [{'text': 'DISPATCH'}], 'utter_ask_first_aid': [{'text': 'Do you or anyone near you have experience with first aid?'}], 'utter_give_link': [{'text': 'Here is a useful link: www.imgur.com/a/G6rU8'}], 'utter_ask_form_name': [{'text': 'Can you tell us your name?'}, {'text': 'Can you please provide us with your name?'}], 'utter_ask_form_phone_number': [{'text': 'Can you please provide your phone number should we need to contact you over the phone?'}], 'utter_ask_extra_details': [{'text': 'Okay, is there anything else we should know before we get there?'}], 'utter_greet': [{'text': 'Hey! How are you?'}], 'utter_cheer_up': [{'text': 'Here is something to cheer you up:', 'image': 'https://i.imgur.com/nGF1K8f.jpg'}], 'utter_did_that_help': [{'text': 'Did that help you?'}], 'utter_happy': [{'text': 'Great, carry on!'}], 'utter_goodbye': [{'text': 'Bye'}], 'utter_iamabot': [{'text': 'I am a bot, powered by Rasa.'}], 'utter_finish': [{'text': 'Help is on the way, please stay safe and wait for the professionals to arrive'}], 'utter_unsure': [{'text': "Sorry, I didn't understand what you just said, could you please respond to the last question?"}]}, 'actions': ['action_init_slots', 'action_manage_first_aid', 'action_save_service_info', 'action_save_wrapup_info', 'action_generate_report', 'utter_ask_extra_details', 'utter_ask_form_street_address', 'utter_ask_name', 'utter_ask_phone_number', 'utter_ask_service_type', 'utter_ask_victim_details', 'utter_dispatch', 'utter_finish', 'utter_introduce', 'utter_unsure', 'validate_service_form', 'validate_wrapup_form'], 'forms': {'service_form': {'service_type': [{'type': 'from_entity', 'entity': 'service_type'}], 'emergency_details': [{'type': 'from_entity', 'entity': 'emergency_details'}], 'is_safe': [{'type': 'from_text'}], 'any_injured': [{'type': 'from_text'}], 'victim_details': [{'type': 'from_entity', 'entity': 'victim_details'}], 'form_street_address': [{'type': 'from_text'}], 'location_description': [{'type': 'from_text'}], 'form_postcode': [{'type': 'from_text'}], 'street_address': [{'type': 'from_entity', 'entity': 'street_address'}], 'postcode': [{'type': 'from_entity', 'entity': 'postcode'}]}, 'wrapup_form': {'first_aid': [{'type': 'from_text'}], 'form_name': [{'type': 'from_text'}], 'form_phone_number': [{'type': 'from_text'}], 'name': [{'type': 'from_entity', 'entity': 'name'}], 'phone_number': [{'type': 'from_entity', 'entity': 'phone_number'}], 'extra_details': [{'type': 'from_text'}]}}, 'e2e_actions': []}

    return (dispatcher, tracker, domain)
