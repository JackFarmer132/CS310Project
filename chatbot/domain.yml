session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- start_form
- describe_emergency
- give_name
- answer_no
- give_location
- answer_unsure
- answer_yes
- give_service
- describe_victim
- give_phone_number
- nlu_fallback
- give_form_street_address
- stop
- begin
entities:
- district
- emergency_detail
- emergency_details
- name
- phone_number
- postcode
- service_type
- street_address
- victim_details
slots:
  any_injured:
    type: text
    influence_conversation: true
  district:
    type: text
    influence_conversation: true
  emergency_details:
    type: list
    influence_conversation: true
  emergency_details_memory:
    type: list
    influence_conversation: false
  extra_details:
    type: text
    influence_conversation: true
  first_aid:
    type: text
    influence_conversation: true
  form_name:
    type: text
    influence_conversation: true
  form_phone_number:
    type: text
    influence_conversation: true
  form_postcode:
    type: text
    influence_conversation: true
  form_street_address:
    type: text
    influence_conversation: true
  is_safe:
    type: bool
    influence_conversation: true
  location_description:
    type: text
    influence_conversation: true
  name:
    type: text
    influence_conversation: true
  phone_number:
    type: text
    influence_conversation: true
  postcode:
    type: text
    influence_conversation: true
  requested_slot:
    type: text
    influence_conversation: false
  service_type:
    type: list
    influence_conversation: true
  service_type_memory:
    type: list
    influence_conversation: false
  street_address:
    type: text
    influence_conversation: true
  victim_details:
    type: list
    influence_conversation: true
  victim_details_memory:
    type: list
    influence_conversation: false
responses:
  utter_introduce:
  - text: I am Whitehall, the emergency service chatbot
  utter_ask_service_type:
  - text: Can you please provide the emergency service that you require
  utter_ask_form_postcode:
  - text: Can you please provide your postcode?
  utter_ask_form_street_address:
  - text: Can you please provide your location?
  utter_ask_street_address:
  - text: Can you please provide the street address?
  utter_ask_location_description:
  - text: Can you please describe your surroundings? What can you see?
  utter_ask_emergency_details:
  - text: Can you please describe the details of your emergency?
  - text: What is the nature of your emergency?
  utter_ask_is_safe:
  - text: Are you safe?
  - text: Are you currently in a safe location?
  utter_ask_victim_details:
  - text: What state is the victim in?
  utter_ask_any_injured:
  - text: Is anyone injured?
  utter_dispatch:
  - text: DISPATCH
  utter_ask_first_aid:
  - text: Do you or anyone near you have experience with first aid?
  utter_give_link:
  - text: 'Here is a useful link: www.imgur.com/a/G6rU8'
  utter_ask_form_name:
  - text: Can you tell us your name?
  - text: Can you please provide us with your name?
  utter_ask_form_phone_number:
  - text: Can you please provide your phone number should we need to contact you over the phone?
  utter_ask_extra_details:
  - text: Okay, is there anything else we should know before we get there?
  utter_greet:
  - text: Hey! How are you?
  utter_cheer_up:
  - text: 'Here is something to cheer you up:'
    image: https://i.imgur.com/nGF1K8f.jpg
  utter_did_that_help:
  - text: Did that help you?
  utter_happy:
  - text: Great, carry on!
  utter_goodbye:
  - text: Bye
  utter_iamabot:
  - text: I am a bot, powered by Rasa.
  utter_finish:
  - text: Help is on the way, please stay safe and wait for the professionals to arrive
  utter_unsure:
  - text: Sorry, I didn't understand what you just said, could you please respond to the last question?
actions:
- action_init_slots
- action_manage_first_aid
- action_save_service_info
- action_save_wrapup_info
- action_generate_report
- utter_ask_extra_details
- utter_ask_form_street_address
- utter_ask_name
- utter_ask_phone_number
- utter_ask_service_type
- utter_ask_victim_details
- utter_dispatch
- utter_finish
- utter_introduce
- utter_unsure
- validate_service_form
- validate_wrapup_form
forms:
  service_form:
    service_type:
    - type: from_entity
      entity: service_type
    emergency_details:
    - type: from_entity
      entity: emergency_details
    is_safe:
    - type: from_text
    any_injured:
    - type: from_text
    victim_details:
    - type: from_entity
      entity: victim_details
    form_street_address:
    - type: from_text
    location_description:
    - type: from_text
    form_postcode:
    - type: from_text
    street_address:
    - type: from_entity
      entity: street_address
    postcode:
    - type: from_entity
      entity: postcode
  wrapup_form:
    first_aid:
    - type: from_text
    form_name:
    - type: from_text
    form_phone_number:
    - type: from_text
    name:
    - type: from_entity
      entity: name
    phone_number:
    - type: from_entity
      entity: phone_number
    extra_details:
    - type: from_text
version: '2.0'
